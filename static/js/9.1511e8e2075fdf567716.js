webpackJsonp([9],{"5lkw":function(x,n,s){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),s.d(n,"modifyTime",function(){return a}),s.d(n,"s",function(){return e}),s.d(n,"topMsg",function(){return l});var a="2021-06-20 16:53:39",e='      <div class="mume markdown-preview  ">\n      <h1 class="mume-header" id="redis">Redis</h1>\n\n<h2 class="mume-header" id="%E6%8C%87%E4%BB%A4">&#x6307;&#x4EE4;</h2>\n\n<h3 class="mume-header" id="%E5%90%AF%E5%8A%A8">&#x542F;&#x52A8;</h3>\n\n<ul>\n<li>&#x542F;&#x52A8;&#x672C;&#x5730;: <code>&gt;redis-cli</code></li>\n<li>&#x542F;&#x52A8;&#x8FDC;&#x7A0B;: <code>&gt;redis-cli -h host -p port -a pswd</code></li>\n</ul>\n<h3 class="mume-header" id="key">Key</h3>\n\n<ul>\n<li>&#x8BBE;&#x7F6E;: <code>SET key value</code></li>\n<li>&#x83B7;&#x53D6;: <code>GET key</code>\n<ul>\n<li>&#x5982;&#x679C;&#x6CA1;&#x6709;&#x503C;,&#x8FD4;&#x56DE;&#x7A7A;</li>\n</ul>\n</li>\n<li>&#x5220;&#x9664;: <code>DEL key</code>\n<ul>\n<li>&#x6210;&#x529F;&#x8FD4;&#x56DE;1,&#x5931;&#x8D25;&#x8FD4;&#x56DE;0</li>\n</ul>\n</li>\n<li>&#x68C0;&#x67E5;&#x662F;&#x5426;&#x5B58;&#x5728;: <code>EXISTS key</code>\n<ul>\n<li>&#x5B58;&#x5728;&#x8FD4;&#x56DE;1,&#x5426;&#x5219;0</li>\n</ul>\n</li>\n<li>&#x8BBE;&#x7F6E;&#x8FC7;&#x671F;&#x65F6;&#x95F4;(s): <code>EXPIRE key seconds</code>\n<ul>\n<li>&#x6210;&#x529F;&#x8FD4;&#x56DE;1,key&#x4E0D;&#x5B58;&#x5728;&#x6216;&#x66F4;&#x65B0;&#x65F6;&#x95F4;(2.1.3&#x53CA;&#x4EE5;&#x4E0B;&#x7248;&#x672C;)&#x8FD4;&#x56DE;0</li>\n</ul>\n</li>\n<li>&#x8BBE;&#x7F6E;&#x8FC7;&#x671F;&#x65F6;&#x95F4;(unix&#x65F6;&#x95F4;&#x6233;): <code>EXPIREAT key timestamp</code></li>\n<li>&#x8BBE;&#x7F6E;&#x8FC7;&#x671F;&#x65F6;&#x95F4;(ms): <code>PEXPIRE key milliseconds</code></li>\n<li>&#x8BBE;&#x7F6E;&#x8FC7;&#x671F;&#x65F6;&#x95F4;(unix ms): <code>PEXPIREAT key milliseconds-timestamp</code></li>\n<li>&#x83B7;&#x53D6;&#x6EE1;&#x8DB3;pattern&#x7684;key&#x7684;array: <code>KEYS PATTERN</code>\n<ul>\n<li><code>&gt;KEYS a*</code> &#x83B7;&#x53D6;&#x6240;&#x6709;a&#x5F00;&#x5934;&#x7684;key</li>\n<li><code>&gt;KEYS *</code>  &#x83B7;&#x53D6;&#x6240;&#x6709;key</li>\n</ul>\n</li>\n<li>&#x79FB;&#x9664;key&#x7684;&#x8FC7;&#x671F;&#x65F6;&#x95F4;: <code>PERSIST key</code>\n<ul>\n<li>&#x6210;&#x529F;&#x8FD4;&#x56DE;1,key&#x4E0D;&#x5B58;&#x5728;&#x6216;&#x672A;&#x8BBE;&#x7F6E;&#x65F6;&#x95F4;&#x8FD4;&#x56DE;0</li>\n</ul>\n</li>\n<li>&#x83B7;&#x53D6;key&#x7684;&#x5269;&#x4F59;&#x751F;&#x547D;&#x5468;&#x671F;(ms): <code>PTTL key</code>\n<ul>\n<li>&#x82E5;&#x5B58;&#x5728;&#x751F;&#x547D;&#x5468;&#x671F;,&#x5219;&#x8FD4;&#x56DE;&#x65F6;&#x95F4;;&#x82E5;&#x65E0;&#x751F;&#x547D;&#x5468;&#x671F;,&#x5219;&#x8FD4;&#x56DE;-1;&#x82E5;&#x65E0;&#x8BE5;key,&#x8FD4;&#x56DE;-2</li>\n<li>2.8&#x53CA;&#x4EE5;&#x4E0B;&#x7248;&#x672C;,&#x53EA;&#x4F1A;&#x8FD4;&#x56DE;-1&#x6216;&#x65F6;&#x95F4;</li>\n</ul>\n</li>\n<li>&#x83B7;&#x53D6;key&#x7684;&#x5269;&#x4F59;&#x751F;&#x547D;&#x5468;&#x671F;(s): <code>TTL key</code></li>\n<li>&#x83B7;&#x53D6;&#x4E00;&#x4E2A;&#x968F;&#x673A;key: <code>RANDOMKEY</code>\n<ul>\n<li>&#x6570;&#x636E;&#x4E3A;&#x7A7A;&#x65F6;,&#x8FD4;&#x56DE;null</li>\n</ul>\n</li>\n<li>&#x5C06;&#x65E7;&#x7684;key&#x91CD;&#x547D;&#x540D;: <code>RENAME oldName newName</code>\n<ul>\n<li>&#x5982;&#x679C;newName&#x5DF2;&#x5B58;&#x5728;,&#x4F1A;&#x88AB;&#x8986;&#x76D6;</li>\n<li>&#x5982;&#x679C;oldName&#x4E0D;&#x5B58;&#x5728;&#x6216;name&#x76F8;&#x540C;,&#x5219;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;error</li>\n</ul>\n</li>\n<li>&#x5C06;&#x65E7;&#x7684;key&#x91CD;&#x547D;&#x540D;: <code>RENAMEX oldName newName</code>\n<ul>\n<li>&#x4EC5;&#x5F53;newName&#x4E0D;&#x5B58;&#x5728;&#x65F6;,&#x91CD;&#x547D;&#x540D;</li>\n<li>&#x6210;&#x529F;&#x8FD4;&#x56DE;1,&#x5931;&#x8D25;&#x8FD4;&#x56DE;0</li>\n</ul>\n</li>\n<li>&#x83B7;&#x53D6;key&#x7684;&#x7C7B;&#x578B;: <code>TYPE key</code>\n<ul>\n<li>&#x82E5;&#x4E0D;&#x5B58;&#x5728;,&#x8FD4;&#x56DE;none</li>\n</ul>\n</li>\n</ul>\n<h4 class="mume-header" id="%E9%81%8D%E5%8E%86%E8%BF%AD%E4%BB%A3">&#x904D;&#x5386;&#x8FED;&#x4EE3;</h4>\n\n<ul>\n<li>keys: <code>KEYS pattern</code> &#x8FD4;&#x56DE;&#x6570;&#x636E;&#x5E93;&#x5185;&#x6EE1;&#x8DB3;pattern&#x7684;&#x6240;&#x6709;key</li>\n<li>scan: <code>SCAN cursor [MATCH pattern] [COUNT count]</code>\n<ul>\n<li>cursor: &#x6E38;&#x6807;,&#x9ED8;&#x8BA4;&#x4E3A;0</li>\n<li>MATCH: &#x6B63;&#x5219;&#x5339;&#x914D;</li>\n<li>COUNT: &#x8FD4;&#x56DE;&#x7684;&#x6700;&#x5927;&#x6570;&#x91CF;,&#x9ED8;&#x8BA4;&#x4E3A;10</li>\n<li>&#x5982;&#x679C;&#x8BBE;&#x5B9A;&#x4E86;COUNT&#x5BFC;&#x81F4;&#x6CA1;&#x6709;&#x8FD4;&#x56DE;&#x5168;&#x90E8;,&#x5219;&#x4F1A;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x975E;0&#x6E38;&#x6807;,&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x8BE5;&#x6E38;&#x6807;&#x8FDB;&#x884C;&#x540E;&#x7EED;&#x7684;&#x904D;&#x5386;</li>\n</ul>\n</li>\n<li>sscan: <code>SSCAN key cursor [MATCH pattern] [COUNT count]</code>\n<ul>\n<li>&#x8FED;&#x4EE3;&#x6307;&#x5B9A;Set&#x96C6;&#x5408;&#x7684;&#x5143;&#x7D20;|key</li>\n</ul>\n</li>\n<li>hscan: <code>HSCAN key cursor [MATCH pattern] [COUNT count]</code>\n<ul>\n<li>&#x8FED;&#x4EE3;hash&#x7684;&#x952E;&#x503C;&#x5BF9;,&#x5947;&#x6570;&#x4E3A;key,&#x5076;&#x6570;&#x4E3A;value</li>\n</ul>\n</li>\n<li>zscan: <code>ZSCAN key cursor [MATCH pattern] [COUNT count]</code>\n<ul>\n<li>&#x8FED;&#x4EE3;&#x6709;&#x5E8F;&#x96C6;&#x5408;&#x7684;&#x5143;&#x7D20;</li>\n</ul>\n</li>\n</ul>\n<h2 class="mume-header" id="%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B">&#x6570;&#x636E;&#x7C7B;&#x578B;</h2>\n\n<h3 class="mume-header" id="string">String</h3>\n\n<ul>\n<li>&#x901A;&#x8FC7;key&#x83B7;&#x53D6;value,&#x72EC;&#x7ACB;&#x7684;k-v</li>\n</ul>\n<h4 class="mume-header" id="getrange">GETRANGE</h4>\n\n<ul>\n<li><code>GETRANGE key start end</code></li>\n<li>&#x83B7;&#x53D6;&#x5B50;&#x4E32;</li>\n<li>start &gt;= 0 &amp;&amp; end &gt;= 0: &#x83B7;&#x53D6;start-end&#x7684;&#x5B50;&#x4E32;</li>\n<li>start &gt;= 0 &amp;&amp; end &lt; 0 : &#x83B7;&#x53D6;&#x4ECE;strat&#x5F00;&#x59CB;,&#x5230;&#x5012;&#x6570;&#x7B2C;end&#x4E2A;</li>\n<li>start &lt; 0 &amp;&amp; end &lt; 0 &amp;&amp; start &lt; end: &#x83B7;&#x53D6;&#x4ECE;&#x5012;&#x6570;start-end&#x7684;&#x5B50;&#x4E32;\n<ul>\n<li>&#x5982;, start = -3, end = -1, &#x5219;&#x83B7;&#x53D6;&#x5012;&#x6570;3-&#x5012;&#x6570;1&#x7684;&#x5B50;&#x4E32;,&#x987A;&#x5E8F;&#x4E3A;&#x6B63;&#x5411;</li>\n</ul>\n</li>\n<li>&#x5982;&#x679C;&#x8D85;&#x8FC7;&#x8303;&#x56F4;,&#x591A;&#x4F59;&#x7684;&#x90E8;&#x5206;&#x4E3A;&#x7A7A;,&#x4F1A;&#x88AB;&#x7701;&#x7565;</li>\n<li>&#x5176;&#x4ED6;&#x60C5;&#x51B5;&#x4E0B;&#x5747;&#x4E3A;&#x975E;&#x6CD5;&#x503C;,&#x8FD4;&#x56DE;&#x7A7A;</li>\n<li>&#x6CE8;&#x610F;:&#x4E2D;&#x6587;&#x5360;2&#x4F4D;</li>\n</ul>\n<h4 class="mume-header" id="setrange">SETRANGE</h4>\n\n<ul>\n<li><code>SETRANGE key offset value</code></li>\n<li>&#x4ECE;offset&#x5F00;&#x59CB;,&#x4F7F;&#x7528;value&#x8986;&#x76D6;&#x539F;&#x503C;</li>\n</ul>\n<h4 class="mume-header" id="getset">GETSET</h4>\n\n<ul>\n<li><code>GETSET key newValue</code></li>\n<li>&#x5C06;key&#x7684;&#x503C;&#x66F4;&#x65B0;,&#x8FD4;&#x56DE;&#x65E7;&#x503C;</li>\n<li>&#x5982;&#x679C;&#x65E7;&#x503C;&#x4E0D;&#x5B58;&#x5728;(&#x4F8B;&#x5982;key&#x4E0D;&#x5B58;&#x5728;),&#x5219;&#x8FD4;&#x56DE;nil/null</li>\n<li>&#x5F53;key&#x4E0D;&#x662F;String&#x65F6;,&#x8FD4;&#x56DE;error</li>\n</ul>\n<h4 class="mume-header" id="getbit">GETBIT</h4>\n\n<ul>\n<li><code>GETBIT key offset</code></li>\n<li>&#x83B7;&#x53D6;value&#x7684;&#x7B2C;offset&#x4F4D;&#x7684;&#x4F4D;(bit)</li>\n<li>&#x82E5;&#x8D85;&#x8FC7;&#x9650;&#x5236;&#x6216;key&#x4E0D;&#x5B58;&#x5728;,&#x8FD4;&#x56DE;0</li>\n<li>&#x65F6;&#x95F4;&#x590D;&#x6742;&#x5EA6;:O(1)</li>\n</ul>\n<h4 class="mume-header" id="setbit">SETBIT</h4>\n\n<ul>\n<li><code>SETBIT key offset value</code></li>\n<li>&#x8BBE;&#x7F6E;key&#x7684;value&#x503C;,&#x7B2C;offset&#x4F4D;&#x7684;&#x503C;&#x4E3A;0|1</li>\n<li>&#x5982;&#x679C;&#x503C;&#x9519;&#x8BEF;,&#x8FD4;&#x56DE;error</li>\n<li>&#x65F6;&#x95F4;&#x590D;&#x6742;&#x5EA6;:O(1)</li>\n</ul>\n<h4 class="mume-header" id="bitcount">BITCOUNT</h4>\n\n<ul>\n<li><code>BITCOUNT key</code></li>\n<li>&#x83B7;&#x53D6;key&#x7684;value&#x503C;&#x4E2D;&#x503C;&#x4E3A;1&#x7684;&#x4E8C;&#x8FDB;&#x5236;&#x4F4D;&#x7684;&#x6570;&#x91CF;</li>\n<li>&#x65F6;&#x95F4;&#x590D;&#x6742;&#x5EA6;:O(n)</li>\n</ul>\n<h4 class="mume-header" id="bitop">BITOP</h4>\n\n<ul>\n<li><code>BITOP operation resultKey [key...]</code></li>\n<li>&#x5BF9;&#x591A;&#x4E2A;&#x4F4D;&#x6570;&#x7EC4;&#x8FDB;&#x884C;&#x903B;&#x8F91;&#x64CD;&#x4F5C;</li>\n<li>operation: &#x903B;&#x8F91;&#x64CD;&#x4F5C;,&#x5305;&#x62EC;<code>and</code>,<code>or</code>,<code>xor</code></li>\n<li>resultKey: &#x6700;&#x540E;&#x7684;&#x7ED3;&#x679C;&#x5B58;&#x50A8;</li>\n<li>[key...]: &#x8981;&#x8FD0;&#x7B97;&#x7684;key&#x7684;&#x6570;&#x7EC4;</li>\n</ul>\n<h4 class="mume-header" id="setex">SETEX</h4>\n\n<ul>\n<li><code>SETEX KEY_NAME TIMEOUT VALUE</code></li>\n<li>&#x4E3A;key&#x8BBE;&#x7F6E;&#x503C;&#x53CA;&#x8FC7;&#x671F;&#x65F6;&#x95F4;(s)</li>\n<li>&#x4F1A;&#x8986;&#x76D6;&#x65E7;&#x503C;</li>\n</ul>\n<h4 class="mume-header" id="setnx">SETNX</h4>\n\n<ul>\n<li><code>SETNX key value</code></li>\n<li>&#x5F53;&#x8BE5;key&#x4E0D;&#x5B58;&#x5728;&#x65F6;,&#x8BBE;&#x7F6E;value</li>\n<li>&#x6210;&#x529F;&#x8FD4;&#x56DE;1,&#x5931;&#x8D25;&#x8FD4;&#x56DE;0</li>\n</ul>\n<h4 class="mume-header" id="strlen">STRLEN</h4>\n\n<ul>\n<li><code>STRLEN key</code></li>\n<li>&#x8FD4;&#x56DE;&#x503C;&#x7684;&#x957F;&#x5EA6;</li>\n<li>&#x4E0D;&#x5B58;&#x5728;&#x5219;&#x8FD4;&#x56DE;0</li>\n</ul>\n<h4 class="mume-header" id="incr">INCR</h4>\n\n<ul>\n<li><code>INCR key</code></li>\n<li>&#x4F7F;&#x503C;&#x52A0;1</li>\n<li>&#x82E5;key&#x4E0D;&#x5B58;&#x5728;,&#x5219;&#x521D;&#x59CB;&#x5316;key&#x4E3A;0,&#x518D;&#x8FDB;&#x884C;&#x589E;&#x52A0;&#x64CD;&#x4F5C;</li>\n<li>&#x5982;&#x679C;&#x503C;&#x662F;&#x9519;&#x8BEF;&#x7C7B;&#x578B;&#x6216;&#x4E0D;&#x80FD;&#x8868;&#x793A;&#x4E3A;&#x6570;&#x5B57;,&#x5219;&#x8FD4;&#x56DE;error</li>\n<li>&#x503C;&#x9650;&#x5236;&#x5728;64&#x4F4D;&#x6709;&#x7B26;&#x53F7;&#x6570;&#x5B57;&#x4E4B;&#x5185;</li>\n</ul>\n<h4 class="mume-header" id="incrby">INCRBY</h4>\n\n<ul>\n<li><code>INCRBY key value</code></li>\n<li>&#x4F7F;&#x503C;&#x589E;&#x52A0;value</li>\n<li>&#x5176;&#x4ED6;&#x540C;INCR</li>\n</ul>\n<h4 class="mume-header" id="incrbyfloat">INCRBYFLOAT</h4>\n\n<ul>\n<li><code>INCRBYFLOAT key value</code></li>\n<li>&#x4F7F;&#x503C;&#x589E;&#x52A0;value(&#x6D6E;&#x70B9;&#x6570;)</li>\n<li>&#x4EC5;&#x4F1A;&#x4FDD;&#x7559;&#x7B2C;&#x4E00;&#x4F4D;&#x7684;0,&#x591A;&#x4F59;&#x7684;0&#x4F1A;&#x88AB;&#x5220;&#x9664;</li>\n</ul>\n<h4 class="mume-header" id="decr">DECR</h4>\n\n<ul>\n<li><code>DECR key</code></li>\n<li>&#x4F7F;&#x503C;&#x51CF;1</li>\n<li>&#x5176;&#x4ED6;&#x540C;INCR</li>\n</ul>\n<h4 class="mume-header" id="decrby">DECRBY</h4>\n\n<ul>\n<li><code>DECRBY key value</code></li>\n<li>&#x4F7F;&#x503C;&#x51CF;&#x5C11;value</li>\n<li>&#x5176;&#x4ED6;&#x540C;INCR</li>\n</ul>\n<h4 class="mume-header" id="append">APPEND</h4>\n\n<ul>\n<li><code>APPEND key value</code></li>\n<li>&#x5C06;value&#x5B57;&#x7B26;&#x4E32;&#x52A0;&#x5230;&#x6307;&#x5B9A;&#x503C;&#x7684;&#x540E;&#x9762;</li>\n<li>&#x5982;&#x679C;key&#x4E0D;&#x5B58;&#x5728;,&#x5219;&#x7B49;&#x4EF7;&#x4E8E;SET</li>\n<li>&#x8FD4;&#x56DE;&#x5F53;&#x524D;&#x5B57;&#x7B26;&#x4E32;&#x7684;&#x957F;&#x5EA6;</li>\n</ul>\n<h3 class="mume-header" id="hash">Hash</h3>\n\n<ul>\n<li>&#x5B58;&#x50A8;map&#x5F62;k-v&#x5BF9;</li>\n</ul>\n<h4 class="mume-header" id="hset">HSET</h4>\n\n<ul>\n<li><code>HSET key field value</code></li>\n<li>&#x5728;key&#x4E2D;&#x8BBE;&#x7F6E;&#x4E00;&#x4E2A;field-value&#x5BF9;</li>\n<li>&#x5982;&#x679C;key&#x5BF9;&#x5E94;&#x7684;&#x503C;&#x4E0D;&#x662F;hash,&#x5219;&#x65B0;&#x5EFA;&#x4E00;&#x4E2A;</li>\n<li>&#x5982;&#x679C;field&#x5DF2;&#x5B58;&#x5728;,&#x5219;&#x8986;&#x76D6;</li>\n<li>field&#x5DF2;&#x5B58;&#x5728;&#x8FD4;&#x56DE;0,&#x5426;&#x5219;&#x8FD4;&#x56DE;1</li>\n</ul>\n<h4 class="mume-header" id="hmset">HMSET</h4>\n\n<ul>\n<li><code>HMSET key field value [field value...]</code></li>\n<li>&#x65B0;&#x5EFA;&#x4E00;&#x4E2A;hash,&#x5E76;&#x4E3A;&#x5176;&#x8BBE;&#x7F6E;&#x521D;&#x59CB;&#x503C;</li>\n<li>&#x4F1A;&#x76F4;&#x63A5;&#x8986;&#x76D6;&#x65E7;hash</li>\n<li>&#x82E5;key&#x4E0D;&#x662F;hash,&#x5219;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;error</li>\n<li>&#x53EF;&#x4EE5;&#x4E00;&#x6B21;&#x6027;&#x8BBE;&#x7F6E;&#x591A;&#x4E2A;&#x503C;</li>\n</ul>\n<h4 class="mume-header" id="hsetnx">HSETNX</h4>\n\n<ul>\n<li><code>HSETNX key field value</code></li>\n<li>&#x8BBE;&#x7F6E;&#x4E00;&#x4E2A;field-value&#x5BF9;,&#x4EC5;&#x5F53;field&#x4E0D;&#x5B58;&#x5728;&#x65F6;</li>\n<li>&#x6210;&#x529F;&#x8FD4;&#x56DE;1,&#x5931;&#x8D25;&#x8FD4;&#x56DE;0</li>\n</ul>\n<h4 class="mume-header" id="hget">HGET</h4>\n\n<ul>\n<li><code>HGET key field</code></li>\n<li>&#x83B7;&#x53D6;hash&#x4E2D;&#x6307;&#x5B9A;field&#x7684;&#x503C;</li>\n<li>&#x4E0D;&#x5B58;&#x5728;&#x5219;&#x8FD4;&#x56DE;nil</li>\n</ul>\n<h4 class="mume-header" id="hmget">HMGET</h4>\n\n<ul>\n<li><code>HMGET key field [field...]</code></li>\n<li>&#x83B7;&#x53D6;hash&#x4E2D;&#x6307;&#x5B9A;field&#x7684;&#x503C;,&#x53EF;&#x591A;&#x4E2A;</li>\n<li>&#x4E0D;&#x5B58;&#x5728;&#x8FD4;&#x56DE;nil</li>\n</ul>\n<h4 class="mume-header" id="hgetall">HGETALL</h4>\n\n<ul>\n<li><code>HGETALL key</code></li>\n<li>&#x8FD4;&#x56DE;key&#x5BF9;&#x5E94;&#x7684;hash&#x7684;&#x6240;&#x6709;field-value&#x5BF9;</li>\n<li>&#x987A;&#x5E8F;&#x4E3A;:field1,value1,field2,value2</li>\n<li>&#x6240;&#x4EE5;&#x8FD4;&#x56DE;&#x7684;&#x5217;&#x8868;&#x7684;&#x957F;&#x5EA6;&#x662F;hash&#x957F;&#x5EA6;&#x7684;&#x4E8C;&#x500D;</li>\n<li>&#x82E5;key&#x4E0D;&#x5B58;&#x5728;,&#x5219;&#x8FD4;&#x56DE;&#x7A7A;&#x5217;&#x8868;</li>\n</ul>\n<h4 class="mume-header" id="hexists">HEXISTS</h4>\n\n<ul>\n<li><code>HEXISTS key field</code></li>\n<li>&#x5224;&#x65AD;key&#x5BF9;&#x5E94;&#x7684;hash&#x4E2D;&#x662F;&#x5426;&#x5B58;&#x5728;&#x6307;&#x5B9A;field</li>\n<li>&#x5B58;&#x5728;&#x8FD4;&#x56DE;1,&#x4E0D;&#x5B58;&#x5728;&#x6216;key&#x4E0D;&#x5B58;&#x5728;&#x8FD4;&#x56DE;0</li>\n</ul>\n<h4 class="mume-header" id="hdel">HDEL</h4>\n\n<ul>\n<li><code>HDEL key field [field...]</code></li>\n<li>&#x5220;&#x9664;&#x6307;&#x5B9A;field</li>\n<li>&#x8FD4;&#x56DE;&#x5220;&#x9664;&#x6210;&#x529F;&#x7684;&#x4E2A;&#x6570;</li>\n</ul>\n<h4 class="mume-header" id="hlen">HLEN</h4>\n\n<ul>\n<li><code>HLEN key</code></li>\n<li>&#x8FD4;&#x56DE;&#x6307;&#x5B9A;hash&#x4E2D;field&#x7684;&#x6570;&#x91CF;</li>\n<li>key&#x4E0D;&#x5B58;&#x5728;&#x65F6;&#x8FD4;&#x56DE;0</li>\n</ul>\n<h4 class="mume-header" id="hvals">HVALS</h4>\n\n<ul>\n<li><code>HVALS key</code></li>\n<li>&#x8FD4;&#x56DE;&#x6307;&#x5B9A;hash&#x4E2D;&#x7684;&#x6240;&#x6709;&#x7684;value</li>\n<li>key&#x4E0D;&#x5B58;&#x5728;&#x65F6;&#x8FD4;&#x56DE;&#x7A7A;&#x5217;&#x8868;</li>\n</ul>\n<h4 class="mume-header" id="hkeys">HKEYS</h4>\n\n<ul>\n<li><code>HKEYS key</code></li>\n<li>&#x8FD4;&#x56DE;&#x6307;&#x5B9A;hash&#x4E2D;&#x7684;&#x6240;&#x6709;&#x7684;field</li>\n<li>key&#x4E0D;&#x5B58;&#x5728;&#x65F6;&#x8FD4;&#x56DE;&#x7A7A;&#x5217;&#x8868;</li>\n</ul>\n<h3 class="mume-header" id="list">List</h3>\n\n<ul>\n<li>&#x5217;&#x8868;,&#x961F;&#x5217;</li>\n</ul>\n<h4 class="mume-header" id="lpush">LPUSH</h4>\n\n<ul>\n<li><code>LPUSH key value [value...]</code></li>\n<li>&#x5C06;value&#x63D2;&#x5165;&#x5230;&#x6307;&#x5B9A;list&#x7684;&#x5934;&#x90E8;</li>\n<li>&#x63D2;&#x5165;&#x591A;&#x4E2A;&#x503C;&#x65F6;,&#x6309;&#x4ECE;&#x5DE6;&#x5230;&#x53F3;&#x7684;&#x987A;&#x5E8F;&#x5411;&#x5934;&#x90E8;&#x63D2;&#x5165;,&#x6240;&#x4EE5;&#x6700;&#x540E;&#x4E00;&#x4E2A;&#x503C;&#x4F1A;&#x53D8;&#x4E3A;&#x5934;&#x90E8;&#x503C;</li>\n<li>&#x5982;&#x679C;&#x4E0D;&#x5B58;&#x5728;key&#x5219;&#x521B;&#x5EFA;</li>\n<li>&#x5982;&#x679C;key&#x7C7B;&#x578B;&#x4E0D;&#x662F;list,&#x5219;&#x8FD4;&#x56DE;error</li>\n<li>&#x8FD4;&#x56DE;&#x5F53;&#x524D;&#x5217;&#x8868;&#x957F;&#x5EA6;</li>\n</ul>\n<h4 class="mume-header" id="lpushx">LPUSHX</h4>\n\n<ul>\n<li><code>LPUSHX key value</code></li>\n<li>&#x5C06;value&#x63D2;&#x5165;&#x5230;&#x6307;&#x5B9A;list&#x7684;&#x5934;&#x90E8;</li>\n<li>&#x53EA;&#x5141;&#x8BB8;&#x4E00;&#x4E2A;&#x503C;,&#x800C;&#x4E14;key&#x5FC5;&#x987B;&#x5B58;&#x5728;</li>\n<li>&#x6210;&#x529F;&#x8FD4;&#x56DE;1,&#x5931;&#x8D25;&#x8FD4;&#x56DE;0</li>\n</ul>\n<h4 class="mume-header" id="rpush">RPUSH</h4>\n\n<ul>\n<li><code>RPUSH key value [value...]</code></li>\n<li>&#x5C06;&#x591A;&#x4E2A;&#x503C;&#x63D2;&#x5165;&#x5230;list&#x7684;&#x5C3E;&#x90E8;</li>\n<li>&#x540C;LPUSH</li>\n</ul>\n<h4 class="mume-header" id="rpushx">RPUSHX</h4>\n\n<ul>\n<li><code>RPUSHX key value</code></li>\n<li>&#x5C06;value&#x63D2;&#x5165;&#x5230;&#x6307;&#x5B9A;list&#x7684;&#x5C3E;&#x90E8;</li>\n<li>&#x540C;LPUSHX</li>\n</ul>\n<h4 class="mume-header" id="lset">LSET</h4>\n\n<ul>\n<li><code>LSET key index value</code></li>\n<li>&#x5C06;value&#x63D2;&#x5165;&#x5230;list&#x7684;index&#x4F4D;&#x7F6E;</li>\n<li>&#x4F1A;&#x5C06;&#x539F;&#x4F4D;&#x7F6E;&#x7684;&#x503C;&#x8986;&#x76D6;</li>\n<li>&#x82E5;&#x8D85;&#x51FA;&#x8303;&#x56F4;/&#x7A7A;&#x5217;&#x8868;/&#x4E0D;&#x5B58;&#x5728;key/&#x7C7B;&#x578B;&#x9519;&#x8BEF;,&#x5219;&#x8FD4;&#x56DE;error</li>\n</ul>\n<h4 class="mume-header" id="linsert">LINSERT</h4>\n\n<ul>\n<li><code>LINSERT key BEFORE|AFTER pivot value</code></li>\n<li>&#x5C06;value&#x503C;&#x63D2;&#x5165;&#x5230;key&#x5BF9;&#x5E94;&#x7684;list&#x4E2D;pivot&#x503C;&#x7684;&#x524D;&#x9762;|&#x540E;&#x9762;</li>\n<li>&#x63D2;&#x5165;&#x64CD;&#x4F5C;,&#x4E0D;&#x4F1A;&#x8986;&#x76D6;&#x539F;&#x4F4D;&#x7F6E;&#x7684;&#x503C;</li>\n<li>&#x6210;&#x529F;&#x8FD4;&#x56DE;&#x5F53;&#x524D;&#x5217;&#x8868;&#x957F;&#x5EA6;</li>\n<li>&#x6CA1;&#x627E;&#x5230;&#x6307;&#x5B9A;&#x5143;&#x7D20;&#x5219;&#x8FD4;&#x56DE;-1</li>\n<li>key&#x4E0D;&#x5B58;&#x5728;&#x6216;&#x7A7A;&#x5217;&#x8868;,&#x8FD4;&#x56DE;0</li>\n</ul>\n<h4 class="mume-header" id="lpop">LPOP</h4>\n\n<ul>\n<li><code>LPOP key</code></li>\n<li>&#x79FB;&#x9664;&#x5217;&#x8868;&#x7684;&#x7B2C;&#x4E00;&#x4E2A;&#x5143;&#x7D20;,&#x8FD4;&#x56DE;&#x8BE5;&#x5143;&#x7D20;</li>\n<li>key&#x4E0D;&#x5B58;&#x5728;&#x8FD4;&#x56DE;nil</li>\n</ul>\n<h4 class="mume-header" id="rpop">RPOP</h4>\n\n<ul>\n<li><code>RPOP key</code></li>\n<li>&#x79FB;&#x9664;&#x5217;&#x8868;&#x7684;&#x6700;&#x540E;&#x4E00;&#x4E2A;&#x5143;&#x7D20;,&#x8FD4;&#x56DE;&#x8BE5;&#x5143;&#x7D20;</li>\n<li>key&#x4E0D;&#x5B58;&#x5728;&#x65F6;&#x8FD4;&#x56DE;nil</li>\n</ul>\n<h4 class="mume-header" id="rpoplpush">RPOPLPUSH</h4>\n\n<ul>\n<li><code>RPOPLPUSH fromkey tokey</code></li>\n<li>&#x5C06;fromkey&#x5217;&#x8868;&#x7684;&#x6700;&#x540E;&#x4E00;&#x4E2A;&#x5143;&#x7D20;&#x5F39;&#x51FA;&#x5E76;&#x653E;&#x7F6E;&#x5728;tokey&#x7684;&#x5934;&#x90E8;</li>\n<li>&#x8FD4;&#x56DE;&#x64CD;&#x4F5C;&#x7684;&#x5143;&#x7D20;</li>\n</ul>\n<h4 class="mume-header" id="lrem">LREM</h4>\n\n<ul>\n<li><code>LREM key count value</code></li>\n<li>&#x79FB;&#x9664;&#x5217;&#x8868;&#x4E2D;&#x548C;value&#x76F8;&#x7B49;&#x7684;&#x5143;&#x7D20;,&#x5176;&#x4E2D;:\n<ul>\n<li>count &gt; 0,&#x6B63;&#x5411;&#x79FB;&#x9664;count&#x4E2A;&#x5143;&#x7D20;</li>\n<li>count &lt; 0,&#x53CD;&#x5411;&#x79FB;&#x9664;|count|&#x4E2A;&#x5143;&#x7D20;</li>\n<li>count = 0,&#x79FB;&#x9664;&#x5168;&#x90E8;&#x5143;&#x7D20;</li>\n</ul>\n</li>\n<li>&#x8FD4;&#x56DE;&#x79FB;&#x9664;&#x7684;&#x5143;&#x7D20;&#x6570;&#x91CF;</li>\n<li>key&#x4E0D;&#x5B58;&#x5728;&#x65F6;&#x8FD4;&#x56DE;0</li>\n</ul>\n<h4 class="mume-header" id="ltrim">LTRIM</h4>\n\n<ul>\n<li><code>LTRIM key start end</code></li>\n<li>&#x4FDD;&#x7559;&#x5217;&#x8868;&#x4ECE;start&#x5230;end&#x7684;&#x5143;&#x7D20;,&#x53EF;&#x4EE5;&#x4E3A;&#x8D1F;&#x6570;&#x8868;&#x793A;&#x5012;&#x6570;</li>\n<li></li>\n</ul>\n<h4 class="mume-header" id="lindex">LINDEX</h4>\n\n<ul>\n<li><code>LINDEX key index</code></li>\n<li>&#x67E5;&#x8BE2;&#x7B2C;index&#x4F4D;&#x7F6E;&#x4E0A;&#x7684;&#x5143;&#x7D20;</li>\n<li>&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x8D1F;&#x6570;,&#x8868;&#x793A;&#x5012;&#x6570;</li>\n<li>&#x82E5;&#x8D85;&#x8FC7;&#x8303;&#x56F4;&#x8FD4;&#x56DE;nil</li>\n</ul>\n<h4 class="mume-header" id="lrange">LRANGE</h4>\n\n<ul>\n<li><code>LRANGE key start end</code></li>\n<li>&#x8FD4;&#x56DE;&#x5217;&#x8868;&#x4ECE;start&#x5230;end&#x7684;&#x503C;</li>\n<li>&#x53EF;&#x4EE5;&#x4E3A;&#x8D1F;,&#x8868;&#x793A;&#x5012;&#x6570;&#x7B2C;&#x51E0;&#x4E2A;</li>\n</ul>\n<h4 class="mume-header" id="llen">LLEN</h4>\n\n<ul>\n<li><code>LLEN key</code></li>\n<li>&#x8FD4;&#x56DE;&#x5217;&#x8868;&#x957F;&#x5EA6;</li>\n<li>&#x4E0D;&#x5B58;&#x5728;key&#x8FD4;&#x56DE;0,&#x9519;&#x8BEF;&#x7C7B;&#x578B;&#x8FD4;&#x56DE;error</li>\n</ul>\n<h4 class="mume-header" id="blpop">BLPOP</h4>\n\n<ul>\n<li><code>BLPOP key [key...] timeout</code></li>\n<li>&#x5C06;&#x6307;&#x5B9A;&#x5217;&#x8868;&#x7684;&#x7B2C;&#x4E00;&#x4E2A;&#x5143;&#x7D20;&#x79FB;&#x9664;&#x5E76;&#x8FD4;&#x56DE;&#x5217;&#x8868;&#x7684;key,&#x79FB;&#x9664;&#x5143;&#x7D20;&#x53CA;&#x64CD;&#x4F5C;&#x6267;&#x884C;&#x7684;&#x65F6;&#x95F4;,&#x6839;&#x636E;timeout&#x8BBE;&#x7F6E;&#x8BE5;&#x64CD;&#x4F5C;&#x7684;&#x65F6;&#x95F4;&#x4E0A;&#x9650;</li>\n<li>&#x5982;&#x679C;&#x6CA1;&#x6709;&#x5143;&#x7D20;&#x53EF;&#x4EE5;&#x5F39;&#x51FA;&#x4F1A;&#x963B;&#x585E;,&#x8D85;&#x65F6;&#x4F1A;&#x8FD4;&#x56DE;nil</li>\n</ul>\n<h4 class="mume-header" id="brpop">BRPOP</h4>\n\n<ul>\n<li><code>BRPOP key [key...] timeout</code></li>\n<li>&#x5C06;&#x6307;&#x5B9A;&#x5217;&#x8868;&#x7684;&#x6700;&#x540E;&#x4E00;&#x4E2A;&#x5143;&#x7D20;&#x79FB;&#x9664;&#x5E76;&#x8FD4;&#x56DE;&#x5217;&#x8868;&#x7684;key,&#x79FB;&#x9664;&#x5143;&#x7D20;&#x53CA;&#x64CD;&#x4F5C;&#x6267;&#x884C;&#x7684;&#x65F6;&#x95F4;,&#x6839;&#x636E;timeout&#x8BBE;&#x7F6E;&#x8BE5;&#x64CD;&#x4F5C;&#x7684;&#x65F6;&#x95F4;&#x4E0A;&#x9650;</li>\n<li>&#x5982;&#x679C;&#x6CA1;&#x6709;&#x5143;&#x7D20;&#x53EF;&#x4EE5;&#x5F39;&#x51FA;&#x4F1A;&#x963B;&#x585E;,&#x8D85;&#x65F6;&#x8FD4;&#x56DE;nil</li>\n</ul>\n<h4 class="mume-header" id="brpoplpush">BRPOPLPUSH</h4>\n\n<ul>\n<li><code>BRPOPLPUSH fromkey tokey timeout</code></li>\n<li>&#x5C06;fromkey&#x5217;&#x8868;&#x7684;&#x6700;&#x540E;&#x4E00;&#x4E2A;&#x5143;&#x7D20;&#x5F39;&#x51FA;&#x5E76;&#x653E;&#x7F6E;&#x5728;tokey&#x7684;&#x5934;&#x90E8;,&#x6700;&#x591A;&#x963B;&#x585E;timeout&#x79D2;</li>\n<li>&#x6210;&#x529F;&#x8FD4;&#x56DE;&#x64CD;&#x4F5C;&#x7684;&#x5143;&#x7D20;&#x53CA;&#x5904;&#x7406;&#x65F6;&#x95F4;,&#x8D85;&#x65F6;&#x8FD4;&#x56DE;nil&#x53CA;&#x5904;&#x7406;&#x65F6;&#x95F4;</li>\n</ul>\n<h3 class="mume-header" id="set">Set</h3>\n\n<ul>\n<li>&#x65E0;&#x5E8F;&#x96C6;&#x5408;,hash&#x5B9E;&#x73B0;</li>\n</ul>\n<h4 class="mume-header" id="sadd">SADD</h4>\n\n<ul>\n<li><code>SADD key value [value...]</code></li>\n<li>&#x5411;&#x96C6;&#x5408;&#x4E2D;&#x6DFB;&#x52A0;&#x5143;&#x7D20;,&#x8FD4;&#x56DE;&#x6DFB;&#x52A0;&#x6570;&#x91CF;</li>\n<li>&#x5982;&#x679C;&#x7C7B;&#x578B;&#x9519;&#x8BEF;&#x8FD4;&#x56DE;error</li>\n</ul>\n<h4 class="mume-header" id="spop">SPOP</h4>\n\n<ul>\n<li><code>SPOP key</code></li>\n<li>&#x96C6;&#x5408;&#x4E2D;&#x968F;&#x673A;&#x79FB;&#x9664;&#x4E00;&#x4E2A;&#x5143;&#x7D20;,&#x8FD4;&#x56DE;&#x8BE5;&#x5143;&#x7D20;</li>\n<li>&#x82E5;&#x4E3A;&#x7A7A;&#x5219;&#x8FD4;&#x56DE;nil</li>\n</ul>\n<h4 class="mume-header" id="srem">SREM</h4>\n\n<ul>\n<li><code>SREM key value [value...]</code></li>\n<li>&#x79FB;&#x9664;&#x96C6;&#x5408;&#x4E2D;&#x7684;&#x6307;&#x5B9A;&#x5143;&#x7D20;,&#x8FD4;&#x56DE;&#x79FB;&#x9664;&#x6210;&#x529F;&#x7684;&#x6570;&#x91CF;</li>\n<li>&#x5982;&#x679C;&#x5143;&#x7D20;&#x4E0D;&#x5B58;&#x5728;,&#x5219;&#x5FFD;&#x7565;</li>\n</ul>\n<h4 class="mume-header" id="sismember">SISMEMBER</h4>\n\n<ul>\n<li><code>SISMEMBER key value</code></li>\n<li>&#x5224;&#x65AD;value&#x662F;&#x5426;&#x5728;&#x96C6;&#x5408;&#x4E2D;,&#x5B58;&#x5728;&#x8FD4;&#x56DE;1,&#x4E0D;&#x5B58;&#x5728;&#x6216;key&#x4E0D;&#x5B58;&#x5728;&#x8FD4;&#x56DE;0</li>\n</ul>\n<h4 class="mume-header" id="smove">SMOVE</h4>\n\n<ul>\n<li><code>SMOVE fromkey tokey value</code></li>\n<li>&#x5C06;value&#x4ECE;fromkey&#x96C6;&#x5408;&#x79FB;&#x52A8;&#x5230;tokey&#x96C6;&#x5408;&#x4E2D;</li>\n<li>&#x539F;&#x5B50;&#x64CD;&#x4F5C;,&#x6210;&#x529F;&#x8FD4;&#x56DE;1,&#x5931;&#x8D25;&#x8FD4;&#x56DE;0</li>\n</ul>\n<h4 class="mume-header" id="scard">SCARD</h4>\n\n<ul>\n<li><code>SCARD key</code></li>\n<li>&#x8FD4;&#x56DE;&#x96C6;&#x5408;&#x4E2D;&#x5143;&#x7D20;&#x7684;&#x6570;&#x91CF;</li>\n<li>key&#x4E0D;&#x5B58;&#x5728;&#x65F6;&#x8FD4;&#x56DE;0</li>\n</ul>\n<h4 class="mume-header" id="sdiff">SDIFF</h4>\n\n<ul>\n<li><code>SDIFF key [key...]</code></li>\n<li>&#x8FD4;&#x56DE;key&#x4E2D;&#x72EC;&#x6709;&#x7684;&#x5143;&#x7D20;(&#x5DEE;&#x96C6;)</li>\n<li>key&#x82E5;&#x4E0D;&#x5B58;&#x5728;&#x89C6;&#x4E3A;&#x7A7A;&#x96C6;</li>\n</ul>\n<h4 class="mume-header" id="sdiffstore">SDIFFSTORE</h4>\n\n<ul>\n<li><code>SDIFFSTORE key key1 [key...]</code></li>\n<li>&#x5C06;key1&#x4E2D;&#x72EC;&#x6709;&#x7684;&#x5143;&#x7D20;&#x5B58;&#x653E;&#x5230;key&#x4E2D;,&#x8FD4;&#x56DE;key&#x4E2D;&#x5143;&#x7D20;&#x7684;&#x6570;&#x91CF;(&#x5DEE;&#x96C6;)</li>\n<li>&#x8BE5;&#x65B9;&#x6CD5;&#x4F1A;&#x5C06;key&#x6E05;&#x7A7A;&#x540E;&#x91CD;&#x65B0;&#x653E;&#x7F6E;,&#x6240;&#x4EE5;&#x4E5F;&#x53EF;&#x4EE5;&#x8BA4;&#x4E3A;&#x8FD4;&#x56DE;&#x503C;&#x4E3A;&#x64CD;&#x4F5C;&#x7684;&#x5143;&#x7D20;&#x7684;&#x6570;&#x91CF;</li>\n</ul>\n<h4 class="mume-header" id="sinter">SINTER</h4>\n\n<ul>\n<li><code>SINTER key [key...]</code></li>\n<li>&#x8FD4;&#x56DE;key&#x4E2D;&#x5171;&#x6709;&#x7684;&#x5143;&#x7D20;(&#x4EA4;&#x96C6;)</li>\n<li>&#x4E0D;&#x5B58;&#x5728;&#x7684;key&#x8BA4;&#x4F5C;&#x7A7A;&#x96C6;,&#x6709;&#x7A7A;&#x96C6;&#x65F6;&#x8FD4;&#x56DE;&#x7A7A;&#x96C6;</li>\n</ul>\n<h4 class="mume-header" id="sinterstore">SINTERSTORE</h4>\n\n<ul>\n<li><code>SINTERSTORE key key1 [key...]</code></li>\n<li>&#x5C06;key1&#x4E2D;&#x5171;&#x6709;&#x7684;&#x5143;&#x7D20;&#x653E;&#x7F6E;&#x5230;key&#x4E2D;,&#x8FD4;&#x56DE;key&#x4E2D;&#x5143;&#x7D20;&#x7684;&#x6570;&#x91CF;(&#x4EA4;&#x96C6;)</li>\n</ul>\n<h4 class="mume-header" id="sunion">SUNION</h4>\n\n<ul>\n<li><code>SUNION key [key...]</code></li>\n<li>&#x8FD4;&#x56DE;key&#x53CA;&#x5176;&#x4ED6;&#x96C6;&#x5408;&#x7684;&#x5E76;&#x96C6;</li>\n<li>&#x4E0D;&#x5B58;&#x5728;&#x7684;key&#x89C6;&#x4F5C;&#x7A7A;&#x96C6;</li>\n</ul>\n<h4 class="mume-header" id="sunionstore">SUNIONSTORE</h4>\n\n<ul>\n<li><code>SUNIONSTORE key key1 [key...]</code></li>\n<li>&#x5C06;key1&#x53CA;&#x5176;&#x4ED6;&#x96C6;&#x5408;&#x7684;&#x5E76;&#x96C6;&#x8D4B;&#x7ED9;key,&#x8FD4;&#x56DE;key&#x4E2D;&#x5143;&#x7D20;&#x7684;&#x6570;&#x91CF;(&#x5E76;&#x96C6;)</li>\n<li>&#x4E0D;&#x5B58;&#x5728;&#x7684;key&#x89C6;&#x4F5C;&#x7A7A;&#x96C6;</li>\n</ul>\n<h4 class="mume-header" id="smembers">SMEMBERS</h4>\n\n<ul>\n<li><code>SMEMBERS key</code></li>\n<li>&#x8FD4;&#x56DE;&#x5BF9;&#x5E94;key&#x96C6;&#x5408;&#x7684;&#x6240;&#x6709;keys</li>\n</ul>\n<h4 class="mume-header" id="srandmember">SRANDMEMBER</h4>\n\n<ul>\n<li><code>SRANDMEMBER key [count]</code></li>\n<li>&#x8FD4;&#x56DE;key&#x96C6;&#x5408;&#x4E2D;&#x968F;&#x673A;&#x7684;count&#x4E2A;&#x503C;,&#x9ED8;&#x8BA4;&#x4E3A;10</li>\n</ul>\n<h3 class="mume-header" id="sorted-set">Sorted Set</h3>\n\n<ul>\n<li>&#x6709;&#x5E8F;&#x7684;&#x96C6;&#x5408;,&#x901A;&#x8FC7;&#x4E3A;value&#x5173;&#x8054;&#x4E00;&#x4E2A;double&#x7C7B;&#x578B;&#x7684;score&#x6765;&#x8FDB;&#x884C;&#x6392;&#x5E8F;</li>\n<li>&#x76F8;&#x540C;&#x7684;value,&#x540E;&#x6DFB;&#x52A0;&#x7684;&#x4F1A;&#x8986;&#x76D6;&#x5148;&#x6DFB;&#x52A0;&#x7684;</li>\n<li>&#x5E95;&#x5C42;&#x5B9E;&#x73B0;:\n<ul>\n<li>[score, value]&#x952E;&#x503C;&#x5BF9;&#x6570;&#x91CF;&#x5C11;&#x4E8E;128&#x4E2A;&#x4E14;&#x6BCF;&#x4E2A;&#x5143;&#x7D20;&#x957F;&#x5EA6;&#x5C0F;&#x4E8E;64&#x5B57;&#x8282;,&#x5219;&#x4E3A;ziplist</li>\n<li>&#x5426;&#x5219;&#x4F7F;&#x7528;&#x8DF3;&#x8868;(skiplist)&#x5B58;&#x50A8;value,&#x540C;&#x65F6;&#x6709;&#x4E00;&#x4E2A;hash&#x7528;&#x6765;&#x6620;&#x5C04;&#x4ECE;value&#x5230;score</li>\n</ul>\n</li>\n</ul>\n<h4 class="mume-header" id="zadd">ZADD</h4>\n\n<ul>\n<li><code>ZADD key [NX|XX] [CH] [INCR] score value [score... value...]</code></li>\n<li>&#x4E3A;&#x6307;&#x5B9A;zset&#x6DFB;&#x52A0;&#x6210;&#x5458;,&#x5E76;&#x8BBE;&#x5B9A;&#x5176;&#x5206;&#x6570;&#x548C;value</li>\n<li>&#x9ED8;&#x8BA4;&#x8FD4;&#x56DE;&#x6DFB;&#x52A0;&#x7684;&#x6210;&#x5458;&#x7684;&#x6570;&#x91CF;</li>\n<li>&#x53C2;&#x6570;:\n<ul>\n<li>NX: &#x4E0D;&#x66F4;&#x65B0;&#x5B58;&#x5728;&#x7684;&#x6210;&#x5458;,&#x4EC5;&#x6DFB;&#x52A0;&#x6210;&#x5458;</li>\n<li>XX: &#x66F4;&#x65B0;&#x5B58;&#x5728;&#x7684;&#x6210;&#x5458;,&#x4E0D;&#x6DFB;&#x52A0;&#x6210;&#x5458;</li>\n<li>CH: &#x66F4;&#x6539;&#x8FD4;&#x56DE;&#x503C;,&#x8FD4;&#x56DE;&#x4FEE;&#x6539;&#x7684;&#x6210;&#x5458;&#x7684;&#x6570;&#x91CF;</li>\n<li>INCR: &#x8FD4;&#x56DE;&#x88AB;&#x64CD;&#x4F5C;&#x7684;&#x6210;&#x5458;&#x7684;score&#x3002;&#x5982;&#x679C;&#x6DFB;&#x52A0;&#x4E86;&#x65B0;&#x6210;&#x5458;,&#x5219;&#x8BBE;&#x7F6E;&#x65B0;&#x6210;&#x5458;&#x7684;&#x503C;&#x4E3A;score;&#x5982;&#x679C;&#x662F;&#x5BF9;&#x65E7;&#x6210;&#x5458;&#x7684;&#x66F4;&#x65B0;,&#x90A3;&#x4E48;&#x4F1A;&#x5BF9;&#x65E7;&#x6210;&#x5458;&#x5728;&#x539F;&#x6709;score&#x7684;&#x57FA;&#x7840;&#x4E0A;&#x589E;&#x52A0;score&#x7684;&#x64CD;&#x4F5C;;&#x542F;&#x7528;&#x8BE5;&#x53C2;&#x6570;&#x65F6;,&#x53EA;&#x6709;&#x5BF9;&#x4E00;&#x5BF9;&#x6210;&#x5458;&#x8FDB;&#x884C;&#x64CD;&#x4F5C;</li>\n</ul>\n</li>\n<li>&#x5141;&#x8BB8;inf&#x53CA;-inf</li>\n</ul>\n<h4 class="mume-header" id="zrem">ZREM</h4>\n\n<ul>\n<li><code>ZREM key value [value...]</code></li>\n<li>&#x79FB;&#x9664;&#x6307;&#x5B9A;zset&#x4E2D;&#x7684;&#x6307;&#x5B9A;value,&#x8FD4;&#x56DE;&#x79FB;&#x9664;&#x6210;&#x529F;&#x7684;&#x4E2A;&#x6570;</li>\n<li>&#x4E0D;&#x5B58;&#x5728;&#x7684;&#x4F1A;&#x88AB;&#x5FFD;&#x7565;,key&#x4E0D;&#x662F;zset&#x4F1A;&#x8FD4;&#x56DE;error</li>\n</ul>\n<h4 class="mume-header" id="zremrangebyrank">ZREMRANGEBYRANK</h4>\n\n<ul>\n<li><code>ZREMRANGEBYRANK key start stop</code></li>\n<li>&#x5C06;start&#x5230;stop&#x7684;&#x503C;&#x90FD;&#x5220;&#x9664;,&#x8FD4;&#x56DE;&#x88AB;&#x79FB;&#x9664;&#x7684;&#x4E2A;&#x6570;</li>\n<li>start&#x4E0E;stop&#x53EF;&#x4EE5;&#x4E3A;&#x8D1F;,&#x8868;&#x793A;&#x5012;&#x6570;</li>\n<li>start&#x4E0E;stop&#x8868;&#x793A;&#x4E0B;&#x6807;,&#x4ECE;0&#x5F00;&#x59CB;</li>\n</ul>\n<h4 class="mume-header" id="zremrangebyscore">ZREMRANGEBYSCORE</h4>\n\n<ul>\n<li><code>ZREMRANGEBYSCORE key min max</code></li>\n<li>&#x5C06;score&#x5728;min&#x5230;max&#x95F4;&#x7684;&#x503C;&#x90FD;&#x5220;&#x9664;,&#x8FD4;&#x56DE;&#x88AB;&#x79FB;&#x9664;&#x7684;&#x4E2A;&#x6570;</li>\n</ul>\n<h4 class="mume-header" id="zincrby">ZINCRBY</h4>\n\n<ul>\n<li><code>ZINCRBY key increment value</code></li>\n<li>&#x5C06;&#x6307;&#x5B9A;value&#x589E;&#x52A0;increment,&#x8FD4;&#x56DE;value&#x5F53;&#x524D;&#x7684;&#x5206;&#x6570;&#x503C;</li>\n<li>&#x53EF;&#x4EE5;&#x4F20;&#x5165;&#x4E00;&#x4E2A;&#x8D1F;&#x7684;increment&#x8868;&#x793A;&#x51CF;&#x5C11;,&#x652F;&#x6301;&#x6574;&#x6570;&#x548C;&#x6D6E;&#x70B9;&#x6570;</li>\n<li>&#x5982;&#x679C;key&#x4E0D;&#x5B58;&#x5728;&#x6216;value&#x4E0D;&#x5B58;&#x5728;,&#x76F8;&#x5F53;&#x4E8E;zadd</li>\n</ul>\n<h4 class="mume-header" id="zcard">ZCARD</h4>\n\n<ul>\n<li><code>ZCARD key</code></li>\n<li>&#x8FD4;&#x56DE;zset&#x7684;size</li>\n<li>&#x5982;&#x679C;key&#x4E0D;&#x5B58;&#x5728;,&#x8FD4;&#x56DE;0</li>\n</ul>\n<h4 class="mume-header" id="zcount">ZCOUNT</h4>\n\n<ul>\n<li><code>ZCOUNT key min max</code></li>\n<li>&#x8FD4;&#x56DE;score&#x5728;min&#x5230;max&#x95F4;&#x7684;&#x6210;&#x5458;&#x6570;&#x91CF;</li>\n</ul>\n<h4 class="mume-header" id="zrange">ZRANGE</h4>\n\n<ul>\n<li><code>ZRANGE key start stop [WITHSCORES]</code></li>\n<li>&#x8FD4;&#x56DE;&#x6307;&#x5B9A;zset&#x4E2D;&#x4E0B;&#x6807;&#x4ECE;start&#x5230;stop&#x7684;value,&#x4ECE;&#x5C0F;&#x5230;&#x5927;&#x7684;&#x987A;&#x5E8F;</li>\n<li>&#x5982;&#x679C;&#x8BBE;&#x7F6E;&#x4E86;WITHSCORES&#x53C2;&#x6570;,&#x5219;&#x8FD8;&#x4F1A;&#x8FD4;&#x56DE;value&#x7684;key</li>\n<li>&#x53EF;&#x4EE5;&#x8BBE;&#x7F6E;&#x8D1F;&#x6570;&#x8868;&#x793A;&#x5012;&#x6570;</li>\n<li>&#x5982;&#x679C;start&#x5927;&#x4E8E;size&#x6216;start&#x5927;&#x4E8E;stop,&#x5219;&#x8FD4;&#x56DE;nil</li>\n<li>&#x5982;&#x679C;stop&#x5927;&#x4E8E;size,&#x5219;&#x6309;stop&#x8BA1;&#x7B97;</li>\n</ul>\n<h4 class="mume-header" id="zrevrange">ZREVRANGE</h4>\n\n<ul>\n<li><code>ZREVRANGE key start stop [WITHSCORES]</code></li>\n<li>ZRANGE&#x7684;&#x5012;&#x5E8F;,&#x5176;&#x4ED6;&#x76F8;&#x540C;</li>\n</ul>\n<h4 class="mume-header" id="zrank">ZRANK</h4>\n\n<ul>\n<li><code>ZRANK key value</code></li>\n<li>&#x8FD4;&#x56DE;value&#x7684;&#x4E0B;&#x6807;,&#x5982;&#x679C;&#x4E0D;&#x5B58;&#x5728;&#x8FD4;&#x56DE;nil</li>\n</ul>\n<h4 class="mume-header" id="zrevrank">ZREVRANK</h4>\n\n<ul>\n<li><code>ZREVRANK key value</code></li>\n<li>&#x8FD4;&#x56DE;&#x5012;&#x5E8F;&#x7684;value&#x4E0B;&#x6807;,&#x5982;&#x679C;&#x4E0D;&#x5B58;&#x5728;&#x8FD4;&#x56DE;nil</li>\n</ul>\n<h4 class="mume-header" id="zscore">ZSCORE</h4>\n\n<ul>\n<li><code>ZSCORE key value</code></li>\n<li>&#x8FD4;&#x56DE;&#x6307;&#x5B9A;value&#x7684;score,&#x82E5;&#x4E0D;&#x5B58;&#x5728;&#x8FD4;&#x56DE;nil</li>\n<li>&#x8FD4;&#x56DE;&#x503C;&#x662F;String</li>\n</ul>\n<h4 class="mume-header" id="zrangebyscore">ZRANGEBYSCORE</h4>\n\n<ul>\n<li><code>ZRANGEBYSCORE key min max [WITHSCORES] [LIMIT offset count]</code></li>\n<li>&#x8FD4;&#x56DE;&#x6307;&#x5B9A;zset&#x4E2D;,score&#x5728;min&#x5230;max&#x95F4;&#x7684;&#x503C;</li>\n<li>&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x8BBE;&#x7F6E;WITHSCORES&#x8FD4;&#x56DE;score&#x4E0E;value</li>\n<li>&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x8BBE;&#x7F6E;LIMIT offset count&#x6765;&#x8FD4;&#x56DE;&#x6307;&#x5B9A;&#x8303;&#x56F4;&#x4E0E;&#x4E2A;&#x6570;,&#x4F46;&#x662F;&#x5982;&#x679C;offset&#x6BD4;&#x8F83;&#x5927;&#x65F6;,&#x53EF;&#x80FD;&#x4F1A;&#x904D;&#x5386;&#x5168;&#x90E8;&#x5BFC;&#x81F4;O(n)&#x65F6;&#x95F4;&#x590D;&#x6742;&#x5EA6;</li>\n<li>&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x8BBE;&#x7F6E;<code>(min</code>&#x4E0E;<code>[min</code>&#x6765;&#x8BBE;&#x7F6E;&#x53D6;&#x503C;&#x8303;&#x56F4;&#x7684;&#x5F00;&#x95ED;&#x533A;&#x95F4;,&#x9ED8;&#x8BA4;&#x4E3A;&#x95ED;&#x533A;&#x95F4;</li>\n</ul>\n<h4 class="mume-header" id="zrangebylex">ZRANGEBYLEX</h4>\n\n<ul>\n<li><code>ZRANGEBYLEX key min max [LIMIT offset count]</code></li>\n<li>&#x8FD4;&#x56DE;&#x6307;&#x5B9A;zset&#x4E2D;,value&#x5728;min&#x5230;max&#x95F4;&#x7684;&#x503C;</li>\n<li>&#x5982;&#x679C;&#x8303;&#x56F4;&#x662F;&#x5B57;&#x7B26;&#x4E32;,&#x90A3;&#x4E48;:\n<ul>\n<li>&#x5BF9;&#x4E8E;&#x8303;&#x56F4;&#x7684;&#x5B57;&#x7B26;&#x4E32;start~end,&#x5C31;&#x4F1A;&#x53BB;&#x67E5;&#x627E;&#x9996;&#x4E2A;&#x6EE1;&#x8DB3;String &gt;= start&#x7684;&#x5B57;&#x7B26;&#x4E32;,&#x63A5;&#x7740;&#x627E;&#x5230;&#x9996;&#x4E2A; end &lt; String&#x7684;&#x5B57;&#x7B26;&#x4E32;</li>\n<li><a href="https://blog.csdn.net/yidou120/article/details/90145911">https://blog.csdn.net/yidou120/article/details/90145911</a></li>\n</ul>\n</li>\n</ul>\n<h4 class="mume-header" id="zunionstore">ZUNIONSTORE</h4>\n\n<ul>\n<li><code>ZUNIONSTORE destination numkeys key [key ...] [WEIGHTS weight [weight ...]] [AGGREGATE SUM|MIN|MAX]</code></li>\n<li>&#x5C06;&#x591A;&#x4E2A;&#x6307;&#x5B9A;&#x7684;zset&#x4E2D;&#x7684;key,&#x6309;&#x7167;&#x7ED9;&#x5B9A;&#x7684;&#x89C4;&#x5219;&#x53D6;&#x5E76;&#x96C6;,&#x653E;&#x5230;destination&#x96C6;&#x5408;&#x4E2D;,&#x8FD4;&#x56DE;destination&#x96C6;&#x5408;&#x4E2D;&#x5143;&#x7D20;&#x7684;&#x4E2A;&#x6570;</li>\n<li>numkeys&#x8868;&#x793A;key&#x7684;&#x4E2A;&#x6570;,&#x8981;&#x4E0E;&#x540E;&#x9762;&#x4E00;&#x81F4;\n<ul>\n<li>numkeys&#x6700;&#x5C0F;&#x4E3A;1,&#x8D85;&#x9650;&#x4F1A;&#x8FD4;&#x56DE;error</li>\n<li>numkeys&#x4E0E;&#x540E;&#x9762;&#x7684;key&#x6570;&#x91CF;&#x4E0D;&#x540C;&#x4F1A;&#x8FD4;&#x56DE;error</li>\n</ul>\n</li>\n<li>WEIGHTS: &#x4E58;&#x6CD5;&#x56E0;&#x5B50;,&#x6240;&#x6709;&#x7684;&#x96C6;&#x5408;&#x7684;score&#x90FD;&#x4F1A;&#x5728;&#x653E;&#x5165;destination&#x524D;&#x4E58;&#x8BE5;&#x503C;,&#x9ED8;&#x8BA4;&#x4E3A;1</li>\n<li>AGGREGATE: &#x53D6;&#x5E76;&#x96C6;&#x7684;&#x805A;&#x5408;&#x65B9;&#x5F0F;,&#x9ED8;&#x8BA4;&#x4E3A;SUM\n<ul>\n<li>SUM: &#x5C06;&#x96C6;&#x5408;&#x4E2D;&#x76F8;&#x540C;&#x7684;&#x5143;&#x7D20;&#x7684;score&#x76F8;&#x52A0;&#x653E;&#x5165;destination&#x4E2D;</li>\n<li>MIN: &#x53D6;&#x96C6;&#x5408;&#x4E2D;score&#x7684;&#x6700;&#x5C0F;&#x503C;</li>\n<li>MAX: &#x53D6;&#x96C6;&#x5408;&#x4E2D;score&#x7684;&#x6700;&#x5927;&#x503C;</li>\n</ul>\n</li>\n<li>&#x4F1A;&#x5C06;destination&#x96C6;&#x5408;&#x8FDB;&#x884C;&#x91CD;&#x5199;</li>\n</ul>\n<h4 class="mume-header" id="zinterstore">ZINTERSTORE</h4>\n\n<ul>\n<li><code>ZITNTERSTORE destination numkeys key [key ...] [WEIGHTS weight [weight ...]] [AGGREGATE SUM|MIN|MAX]</code></li>\n<li>&#x5C06;&#x591A;&#x4E2A;&#x6307;&#x5B9A;&#x7684;zset&#x4E2D;&#x7684;key,&#x6309;&#x7167;&#x7ED9;&#x5B9A;&#x7684;&#x89C4;&#x5219;&#x53D6;&#x4EA4;&#x96C6;,&#x653E;&#x5230;destination&#x96C6;&#x5408;&#x4E2D;,&#x8FD4;&#x56DE;destination&#x96C6;&#x5408;&#x4E2D;&#x5143;&#x7D20;&#x7684;&#x4E2A;&#x6570;</li>\n<li>&#x4E0E;ZUNIONSTORE&#x76F8;&#x540C;</li>\n</ul>\n<h3 class="mume-header" id="hyperloglog">HyperLogLog</h3>\n\n<ul>\n<li>&#x4E0D;&#x5B58;&#x50A8;&#x5185;&#x90E8;&#x5143;&#x7D20;&#x662F;&#x4EC0;&#x4E48;,&#x800C;&#x662F;&#x5B58;&#x50A8;&#x5143;&#x7D20;&#x7684;&#x57FA;&#x6570;</li>\n<li>&#x7C7B;&#x4F3C;&#x4E8E;&#x4E00;&#x4E2A;&#x7528;&#x4E8E;&#x7EDF;&#x8BA1;Set&#x96C6;&#x5408;&#x4E2D;&#x5143;&#x7D20;&#x4E2A;&#x6570;&#x7684;&#x7ED3;&#x6784;,&#x4F18;&#x70B9;&#x662F;&#x5728;&#x8F93;&#x5165;&#x5143;&#x7D20;&#x7684;&#x6570;&#x91CF;&#x662F;&#x5DE8;&#x5927;&#x65F6;&#x4F9D;&#x65E7;&#x53EF;&#x4EE5;&#x4FDD;&#x6301;&#x5C0F;&#x800C;&#x56FA;&#x5B9A;&#x7684;&#x7A7A;&#x95F4;,&#x4F18;&#x4E8E;&#x96C6;&#x5408;</li>\n</ul>\n<h4 class="mume-header" id="pfadd">PFADD</h4>\n\n<ul>\n<li><code>PFADD key value [value...]</code></li>\n<li>&#x5411;&#x6307;&#x5B9A;HyperLogLog&#x4E2D;&#x5B58;&#x50A8;value</li>\n<li>&#x8FD4;&#x56DE;&#x5B58;&#x50A8;&#x7684;&#x4E2A;&#x6570;,&#x91CD;&#x590D;&#x7684;&#x5143;&#x7D20;&#x4F1A;&#x88AB;&#x5FFD;&#x7565;</li>\n</ul>\n<h4 class="mume-header" id="pfcount">PFCOUNT</h4>\n\n<ul>\n<li><code>PFCOUNT key [key...]</code></li>\n<li>&#x8FD4;&#x56DE;&#x6307;&#x5B9A;HyperLogLog&#x7684;&#x5143;&#x7D20;&#x4E2A;&#x6570;</li>\n</ul>\n<h4 class="mume-header" id="pfmerge">PFMERGE</h4>\n\n<ul>\n<li><code>PFMERGE endkey key1 [key...]</code></li>\n<li>&#x5C06;&#x591A;&#x4E2A;HyperLogLog&#x5408;&#x5E76;&#x4E3A;endkey</li>\n</ul>\n<h2 class="mume-header" id="%E8%AE%A2%E9%98%85">&#x8BA2;&#x9605;</h2>\n\n<ul>\n<li>&#x591A;&#x4E2A;&#x5BA2;&#x6237;&#x7AEF;&#x8BA2;&#x9605;&#x9891;&#x9053;,&#x5F53;&#x9891;&#x9053;&#x53D1;&#x9001;&#x4FE1;&#x606F;&#x65F6;&#x6240;&#x6709;&#x7684;&#x5BA2;&#x6237;&#x7AEF;&#x90FD;&#x4F1A;&#x53D7;&#x5230;message</li>\n</ul>\n<h3 class="mume-header" id="subscribe">SUBSCRIBE</h3>\n\n<ul>\n<li><code>SUBSCRIBE channel [channel...]</code></li>\n<li>&#x8BA2;&#x9605;&#x591A;&#x4E2A;&#x6307;&#x5B9A;&#x7684;&#x9891;&#x9053;</li>\n<li>&#x6BCF;&#x6B21;&#x8FD4;&#x56DE;3&#x4E2A;&#x503C;,&#x5206;&#x522B;&#x662F;:\n<ul>\n<li>&#x8FD4;&#x56DE;&#x503C;&#x7C7B;&#x578B;,&#x5305;&#x62EC;:<code>subscribe</code>,<code>message</code>,<code>unsubscribe</code></li>\n<li>&#x5982;&#x679C;&#x8FD4;&#x56DE;&#x503C;&#x7C7B;&#x578B;&#x4E3A;subscribe,&#x5219;&#x8868;&#x793A;&#x8BA2;&#x9605;&#x7684;&#x9891;&#x9053;&#x540D;;&#x5982;&#x679C;&#x8FD4;&#x56DE;&#x503C;&#x7C7B;&#x578B;&#x4E3A;message,&#x5219;&#x8868;&#x793A;&#x53D1;&#x9001;&#x6D88;&#x606F;&#x7684;&#x9891;&#x9053;&#x540D;;&#x5982;&#x679C;&#x8FD4;&#x56DE;&#x503C;&#x7C7B;&#x578B;&#x4E3A;ubsubscribe,&#x5219;&#x8868;&#x793A;&#x53D6;&#x6D88;&#x8BA2;&#x9605;&#x7684;&#x9891;&#x9053;&#x540D;</li>\n<li>&#x5982;&#x679C;&#x8FD4;&#x56DE;&#x503C;&#x7C7B;&#x578B;&#x4E3A;subscribe|unsubscribe,&#x5219;&#x8868;&#x793A;&#x5F53;&#x524D;&#x8BA2;&#x9605;&#x7684;&#x9891;&#x9053;&#x4E2A;&#x6570;;&#x5982;&#x679C;&#x8FD4;&#x56DE;&#x503C;&#x7C7B;&#x578B;&#x4E3A;message,&#x5219;&#x8868;&#x793A;&#x9891;&#x9053;&#x53D1;&#x9001;&#x7684;&#x4FE1;&#x606F;;</li>\n</ul>\n</li>\n</ul>\n<h3 class="mume-header" id="unsubcribe">UNSUBCRIBE</h3>\n\n<ul>\n<li><code>UNSUBSCRIBE channel [channel...]</code></li>\n<li>&#x53D6;&#x6D88;&#x8BA2;&#x9605;&#x6307;&#x5B9A;&#x9891;&#x9053;</li>\n<li>&#x8FD4;&#x56DE;3&#x4E2A;&#x503C;,&#x4E3A;:\n<ul>\n<li>&#x8FD4;&#x56DE;&#x503C;&#x7C7B;&#x578B;:<code>unsubscribe</code></li>\n<li>&#x53D6;&#x6D88;&#x8BA2;&#x9605;&#x7684;&#x9891;&#x9053;&#x540D;</li>\n<li>&#x5F53;&#x524D;&#x8BA2;&#x9605;&#x7684;&#x9891;&#x9053;&#x4E2A;&#x6570;</li>\n</ul>\n</li>\n</ul>\n<h3 class="mume-header" id="psubscribe">PSUBSCRIBE</h3>\n\n<ul>\n<li><code>PSUBSCRIBE pattern [pattern...]</code></li>\n<li>&#x6309;&#x6307;&#x5B9A;&#x7684;&#x6B63;&#x5219;&#x5339;&#x914D;&#x9891;&#x9053;&#x540D;&#x8FDB;&#x884C;&#x8BA2;&#x9605;</li>\n</ul>\n<h3 class="mume-header" id="punsubscribe">PUNSUBSCRIBE</h3>\n\n<ul>\n<li><code>PUNSUBSCRIBE pattern [pattern...]</code></li>\n<li>&#x6309;&#x6307;&#x5B9A;&#x7684;&#x6B63;&#x5219;&#x5339;&#x914D;&#x9891;&#x9053;&#x540D;&#x8FDB;&#x884C;&#x53D6;&#x6D88;&#x8BA2;&#x9605;</li>\n</ul>\n<h3 class="mume-header" id="publish">PUBLISH</h3>\n\n<ul>\n<li><code>PUBLISH channel message</code></li>\n<li>&#x4F5C;&#x4E3A;&#x6307;&#x5B9A;&#x7684;channel,&#x53D1;&#x9001;message</li>\n<li>&#x8FD4;&#x56DE;&#x63A5;&#x6536;&#x5230;&#x6D88;&#x606F;&#x7684;&#x8BA2;&#x9605;&#x8005;&#x7684;&#x6570;&#x91CF;</li>\n</ul>\n<h3 class="mume-header" id="pubsub">PUBSUB</h3>\n\n<ul>\n<li><code>PUBSUB subcommand argument [argument...]</code></li>\n<li>&#x6709;&#x4E09;&#x79CD;&#x6307;&#x4EE4;&#x65B9;&#x5F0F;</li>\n<li><code>PUBSUB CHANNELS [pattern]</code>\n<ul>\n<li>&#x8FD4;&#x56DE;&#x8BA2;&#x9605;&#x6570;&#x4E0D;&#x4E3A;0&#x7684;&#x9891;&#x9053;</li>\n<li>&#x5982;&#x679C;&#x4E0D;&#x6307;&#x5B9A;pattern,&#x5219;&#x8FD4;&#x56DE;&#x5168;&#x90E8;;&#x5426;&#x5219;&#x8FD4;&#x56DE;&#x5339;&#x914D;pattern&#x7684;&#x9891;&#x9053;</li>\n</ul>\n</li>\n<li><code>PUBSUB NUMSUB [channel1...channeln]</code>\n<ul>\n<li>&#x8FD4;&#x56DE;&#x6307;&#x5B9A;&#x9891;&#x9053;&#x7684;&#x540D;&#x79F0;&#x4E0E;&#x8BA2;&#x9605;&#x8005;&#x6570;&#x91CF;,&#x65E0;&#x8BA2;&#x9605;&#x8005;&#x8FD4;&#x56DE;0</li>\n</ul>\n</li>\n<li><code>PUBSUB NUMPAT</code>\n<ul>\n<li>&#x8FD4;&#x56DE;&#x8BA2;&#x9605;&#x6A21;&#x5F0F;&#x7684;&#x6570;&#x91CF;(&#x57FA;&#x4E8E;pattern&#x7684;&#x8BA2;&#x9605;)</li>\n<li>&#x6BCF;&#x6709;&#x4E00;&#x4E2A;&#x6B63;&#x5219;&#x5339;&#x914D;&#x5219;&#x7B97;&#x505A;1&#x4E2A;</li>\n</ul>\n</li>\n</ul>\n<h2 class="mume-header" id="%E4%BA%8B%E5%8A%A1">&#x4E8B;&#x52A1;</h2>\n\n<ul>\n<li>&#x4E8B;&#x52A1;&#x662F;&#x4E00;&#x4E2A;&#x5355;&#x72EC;&#x7684;&#x9694;&#x79BB;&#x5316;&#x64CD;&#x4F5C;</li>\n<li>redis&#x4E2D;&#x7684;&#x4E8B;&#x52A1;&#x4E0D;&#x652F;&#x6301;&#x56DE;&#x6EDA;,&#x5373;&#x5F53;&#x4E8B;&#x52A1;&#x7684;&#x6267;&#x884C;&#x4E2D;&#x51FA;&#x73B0;&#x9519;&#x8BEF;&#x65F6;,&#x4F1A;&#x7EE7;&#x7EED;&#x6267;&#x884C;&#x540E;&#x7EED;&#x6307;&#x4EE4;,&#x800C;&#x4E0D;&#x4F1A;&#x56DE;&#x6EDA;&#x64CD;&#x4F5C;</li>\n<li>&#x5F53;&#x4E8B;&#x52A1;&#x7684;&#x5165;&#x961F;&#x64CD;&#x4F5C;&#x51FA;&#x73B0;&#x9519;&#x8BEF;&#x65F6;,&#x4F1A;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;error,&#x540C;&#x65F6;&#x8BE5;&#x5165;&#x961F;&#x64CD;&#x4F5C;&#x5931;&#x8D25;</li>\n</ul>\n<h3 class="mume-header" id="%E4%BA%8B%E5%8A%A1%E4%B8%AD%E7%9A%84%E5%91%BD%E4%BB%A4">&#x4E8B;&#x52A1;&#x4E2D;&#x7684;&#x547D;&#x4EE4;</h3>\n\n<ul>\n<li>MULTI\n<ul>\n<li>&#x6807;&#x5FD7;&#x4E8B;&#x52A1;&#x7684;&#x5F00;&#x59CB;</li>\n<li>&#x8FD4;&#x56DE;ok</li>\n</ul>\n</li>\n<li>EXEC\n<ul>\n<li>&#x8868;&#x793A;&#x4E8B;&#x52A1;&#x7684;&#x7ED3;&#x675F;</li>\n<li>&#x4F1A;&#x7ACB;&#x523B;&#x5F00;&#x59CB;&#x6267;&#x884C;&#x8BE5;&#x4E8B;&#x52A1;</li>\n<li>&#x5982;&#x679C;&#x64CD;&#x4F5C;&#x88AB;&#x6253;&#x65AD;,&#x8FD4;&#x56DE;nil</li>\n</ul>\n</li>\n<li>DISCARD\n<ul>\n<li>&#x5728;&#x4F7F;&#x7528;MULTI&#x6307;&#x4EE4;&#x5F00;&#x542F;&#x4E8B;&#x52A1;&#x540E;,&#x4F7F;&#x7528;&#x8BE5;&#x6307;&#x4EE4;&#x4F1A;&#x53D6;&#x6D88;&#x4E8B;&#x52A1;</li>\n</ul>\n</li>\n<li>WATCH\n<ul>\n<li><code>WATCH key [key...]</code></li>\n<li>&#x76D1;&#x89C6;&#x4E00;&#x4E2A;&#x6216;&#x591A;&#x4E2A;&#x952E;,&#x82E5;&#x4ED6;&#x4EEC;&#x53D1;&#x751F;&#x53D8;&#x5316;,&#x5219;&#x4E8B;&#x52A1;&#x4E0D;&#x4F1A;&#x88AB;&#x6267;&#x884C;</li>\n<li>&#x5F53;EXEC&#x6267;&#x884C;&#x65F6;,&#x4F1A;&#x81EA;&#x52A8;&#x89E3;&#x9664;&#x76D1;&#x89C6;</li>\n<li>&#x5982;&#x679C;&#x56E0;&#x4E3A;&#x952E;&#x53D8;&#x5316;&#x5BFC;&#x81F4;&#x4E8B;&#x52A1;&#x88AB;&#x6253;&#x65AD;,EXEC&#x64CD;&#x4F5C;&#x4F1A;&#x8FD4;&#x56DE;nil</li>\n<li>&#x5982;&#x679C;WATCH&#x4E86;&#x4E00;&#x4E2A;&#x6709;&#x751F;&#x547D;&#x5468;&#x671F;&#x7684;&#x952E;,&#x90A3;&#x4E48;&#x5373;&#x4F7F;&#x8FD9;&#x4E2A;&#x952E;&#x8FC7;&#x671F;&#x4E86;,&#x4E5F;&#x4F9D;&#x7136;&#x53EF;&#x4EE5;&#x6267;&#x884C;&#x4E8B;&#x52A1;</li>\n</ul>\n</li>\n<li>UNWATCH\n<ul>\n<li><code>UNWATCH [key...]</code></li>\n<li>&#x89E3;&#x9664;&#x4E00;&#x4E2A;&#x6216;&#x591A;&#x4E2A;&#x952E;&#x7684;&#x76D1;&#x89C6;</li>\n<li>&#x5982;&#x679C;&#x65E0;&#x53C2;&#x6570;,&#x5219;&#x89E3;&#x9664;&#x6240;&#x6709;&#x76D1;&#x89C6;</li>\n</ul>\n</li>\n</ul>\n<h2 class="mume-header" id="%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%91%BD%E4%BB%A4">&#x670D;&#x52A1;&#x5668;&#x547D;&#x4EE4;</h2>\n\n<ul>\n<li>&#x7528;&#x4E8E;&#x7BA1;&#x7406;Redis&#x670D;&#x52A1;</li>\n</ul>\n<h3 class="mume-header" id="bgsave">BGSAVE</h3>\n\n<ul>\n<li>&#x5F02;&#x6B65;&#x4FDD;&#x5B58;&#x5F53;&#x524D;&#x6570;&#x636E;&#x5E93;&#x7684;&#x6570;&#x636E;&#x5230;&#x78C1;&#x76D8;</li>\n<li>Redis&#x4E3B;&#x8FDB;&#x7A0B;&#x4F1A;fork&#x4E00;&#x4E2A;&#x5B50;&#x8FDB;&#x7A0B;&#x6267;&#x884C;&#x4FDD;&#x5B58;&#x64CD;&#x4F5C;,&#x800C;&#x7236;&#x8FDB;&#x7A0B;&#x4F1A;&#x7EE7;&#x7EED;&#x5904;&#x7406;&#x5BA2;&#x6237;&#x7AEF;&#x8BF7;&#x6C42;</li>\n<li>&#x7ACB;&#x523B;&#x8FD4;&#x56DE;OK</li>\n</ul>\n<h3 class="mume-header" id="bgrewriteaof">BGREWRITEAOF</h3>\n\n<ul>\n<li>&#x7528;&#x4E8E;&#x5F02;&#x6B65;&#x6267;&#x884C;AOF&#x6587;&#x4EF6;&#x91CD;&#x5199;&#x64CD;&#x4F5C;</li>\n<li>&#x5373;&#x4F7F;&#x6267;&#x884C;&#x5931;&#x8D25;,&#x4E5F;&#x4E0D;&#x4F1A;&#x6709;&#x4EFB;&#x4F55;&#x6570;&#x636E;&#x4E22;&#x5931;,&#x56E0;&#x4E3A;&#x5728;AOF&#x91CD;&#x5199;&#x5B8C;&#x6210;&#x524D;&#x65E7;&#x7684;AOF&#x6587;&#x4EF6;&#x4E0D;&#x4F1A;&#x6709;&#x4EFB;&#x4F55;&#x4FEE;&#x6539;</li>\n<li>ver2.4&#x4E4B;&#x540E;,AOF&#x91CD;&#x5199;&#x7531;Redis&#x81EA;&#x52A8;&#x89E6;&#x53D1;,&#x4F46;&#x4E5F;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x8BE5;&#x547D;&#x4EE4;&#x624B;&#x52A8;&#x89E6;&#x53D1;</li>\n</ul>\n<h2 class="mume-header" id="%E7%BB%93%E6%9E%84%E5%AD%98%E5%82%A8">&#x7ED3;&#x6784;&#x5B58;&#x50A8;</h2>\n\n<ul>\n<li>redis&#x5E38;&#x7528;&#x7684;&#x6570;&#x636E;&#x7C7B;&#x578B;&#x90FD;&#x901A;&#x8FC7;&#x4E00;&#x4E2A;<code>redisObject</code>&#x7684;&#x5BF9;&#x8C61;&#x8FDB;&#x884C;&#x5B58;&#x50A8;&#x7684;,&#x5305;&#x542B;&#x4EE5;&#x4E0B;&#x7ED3;&#x6784;:</li>\n</ul>\n<pre data-role="codeBlock" data-info="c" class="language-c"><span class="code-mark">c</span><span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">redisObject</span> <span class="token punctuation">{</span>\n    <span class="token keyword">unsigned</span> type<span class="token operator">:</span><span class="token number">4</span><span class="token punctuation">;</span>\n    <span class="token keyword">unsigned</span> encoding<span class="token operator">:</span><span class="token number">4</span><span class="token punctuation">;</span>\n    <span class="token keyword">unsigned</span> lru<span class="token operator">:</span>LRU_BITS<span class="token punctuation">;</span>\n    <span class="token keyword">int</span> refcount<span class="token punctuation">;</span>\n    <span class="token keyword">void</span> <span class="token operator">*</span>ptr<span class="token punctuation">;</span>\n<span class="token punctuation">}</span> robj<span class="token punctuation">;</span>\n</pre><ul>\n<li>&#x4E00;&#x4E2A;redisObject&#x7684;&#x5927;&#x5C0F;:4bit + 4bit + 24bit + 4 byte + 9 byte = 16byte</li>\n</ul>\n<h3 class="mume-header" id="type">type</h3>\n\n<ul>\n<li>&#x8868;&#x793A;&#x5BF9;&#x8C61;&#x7684;&#x7C7B;&#x578B;,&#x5360;4bit</li>\n<li>REDIS_STRING 0 &#x5B57;&#x7B26;&#x4E32;</li>\n<li>REDIS_LIST 1 &#x5217;&#x8868;</li>\n<li>REDIS_SET 2 &#x96C6;&#x5408;</li>\n<li>REDIS_ZSET 3 &#x6709;&#x5E8F;&#x96C6;</li>\n<li>REDIS_HASH 4 &#x54C8;&#x5E0C;&#x8868;</li>\n</ul>\n<h3 class="mume-header" id="encoding">encoding</h3>\n\n<ul>\n<li>&#x8868;&#x793A;&#x5BF9;&#x8C61;&#x7684;&#x5185;&#x90E8;&#x7F16;&#x7801;,&#x5360;4bit</li>\n<li><code>object encoding [key]</code>:&#x53EF;&#x4EE5;&#x67E5;&#x770B;&#x5BF9;&#x5E94;&#x7684;encoding</li>\n</ul>\n<pre data-role="codeBlock" data-info="c" class="language-c"><span class="code-mark">c</span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">REDIS_ENCODING_RAW</span> <span class="token expression"><span class="token number">0</span>    </span><span class="token comment">// &#x7F16;&#x7801;&#x4E3A;&#x5B57;&#x7B26;&#x4E32;</span></span>\n<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">REDIS_ENCODING_INT</span> <span class="token expression"><span class="token number">1</span>    </span><span class="token comment">// &#x7F16;&#x7801;&#x4E3A;&#x6574;&#x6570;</span></span>\n<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">REDIS_ENCODING_HT</span> <span class="token expression"><span class="token number">2</span>     </span><span class="token comment">// &#x7F16;&#x7801;&#x4E3A;&#x54C8;&#x5E0C;&#x8868;</span></span>\n<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">REDIS_ENCODING_ZIPMAP</span> <span class="token expression"><span class="token number">3</span> </span><span class="token comment">// &#x7F16;&#x7801;&#x4E3A; zipmap(2.6 &#x540E;&#x4E0D;&#x518D;&#x4F7F;&#x7528;)</span></span>\n<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">REDIS_ENCODING_LINKEDLIST</span> <span class="token expression"><span class="token number">4</span> </span><span class="token comment">// &#x7F16;&#x7801;&#x4E3A;&#x53CC;&#x7AEF;&#x94FE;&#x8868;</span></span>\n<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">REDIS_ENCODING_ZIPLIST</span> <span class="token expression"><span class="token number">5</span>    </span><span class="token comment">// &#x7F16;&#x7801;&#x4E3A;&#x538B;&#x7F29;&#x5217;&#x8868;</span></span>\n<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">REDIS_ENCODING_INTSET</span> <span class="token expression"><span class="token number">6</span>     </span><span class="token comment">// &#x7F16;&#x7801;&#x4E3A;&#x6574;&#x6570;&#x96C6;&#x5408;</span></span>\n<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">REDIS_ENCODING_SKIPLIST</span> <span class="token expression"><span class="token number">7</span>    </span><span class="token comment">// &#x7F16;&#x7801;&#x4E3A;&#x8DF3;&#x8DC3;&#x8868;</span></span>\n</pre><h3 class="mume-header" id="ptr">ptr</h3>\n\n<ul>\n<li>&#x6307;&#x9488;,&#x6307;&#x5411;&#x5177;&#x4F53;&#x7684;&#x6570;&#x636E;</li>\n</ul>\n<h3 class="mume-header" id="lru">lru</h3>\n\n<ul>\n<li>&#x8BB0;&#x5F55;&#x5BF9;&#x8C61;&#x6700;&#x540E;&#x4E00;&#x6B21;&#x88AB;&#x547D;&#x4EE4;&#x7A0B;&#x5E8F;&#x8BBF;&#x95EE;&#x7684;&#x65F6;&#x95F4;,ver2.6&#x5360;22bit,ver4.0&#x5360;24bit</li>\n<li>&#x901A;&#x8FC7;&#x5BF9;&#x6BD4;lru&#x65F6;&#x95F4;&#x4E0E;&#x5F53;&#x524D;&#x65F6;&#x95F4;&#x53EF;&#x4EE5;&#x83B7;&#x5F97;&#x5BF9;&#x8C61;&#x7684;&#x7A7A;&#x8F6C;&#x65F6;&#x95F4;</li>\n<li><code>object idletime [key]</code>:&#x663E;&#x793A;&#x6307;&#x5B9A;key&#x7684;&#x7A7A;&#x8F6C;&#x65F6;&#x95F4;,&#x5355;&#x4F4D;&#x4E3A;&#x79D2;,&#x4E0D;&#x4F1A;&#x6539;&#x53D8;&#x5BF9;&#x8C61;&#x7684;lru&#x503C;</li>\n</ul>\n<h3 class="mume-header" id="refcount">refcount</h3>\n\n<ul>\n<li>&#x8BB0;&#x5F55;&#x5BF9;&#x8C61;&#x88AB;&#x5F15;&#x7528;&#x7684;&#x6B21;&#x6570;,&#x6574;&#x578B;,&#x7528;&#x4E8E;&#x5BF9;&#x8C61;&#x7684;&#x5F15;&#x7528;&#x8BA1;&#x6570;&#x4E0E;gc</li>\n<li>&#x5BF9;&#x8C61;&#x521B;&#x5EFA;&#x65F6;&#x8BBE;&#x4E3A;1\n<ul>\n<li>&#x6BCF;&#x5F53;&#x65B0;&#x7A0B;&#x5E8F;&#x4F7F;&#x7528;&#x8BE5;&#x5BF9;&#x8C61;&#x65F6;,refcount++</li>\n<li>&#x5F53;&#x8BE5;&#x5BF9;&#x8C61;&#x4E0D;&#x518D;&#x88AB;&#x4E00;&#x4E2A;&#x65B0;&#x7A0B;&#x5E8F;&#x4F7F;&#x7528;&#x65F6;,refcount--</li>\n<li>refcount&#x4E3A;0&#x65F6;,&#x89E6;&#x53D1;gc</li>\n</ul>\n</li>\n<li>&#x88AB;&#x591A;&#x6B21;&#x4F7F;&#x7528;&#x7684;&#x5BF9;&#x8C61;&#x88AB;&#x79F0;&#x4E3A;&#x5171;&#x4EAB;&#x5BF9;&#x8C61;(&#x5373;refcount&gt;1),&#x4EC5;&#x652F;&#x6301;&#x6574;&#x6570;&#x503C;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x5BF9;&#x8C61;\n<ul>\n<li>&#x539F;&#x56E0;:&#x5171;&#x4EAB;&#x5BF9;&#x8C61;&#x867D;&#x7136;&#x4F1A;&#x964D;&#x4F4E;&#x5185;&#x5B58;&#x6D88;&#x8017;,&#x4F46;&#x662F;&#x5224;&#x65AD;&#x4E24;&#x4E2A;&#x5BF9;&#x8C61;&#x662F;&#x5426;&#x76F8;&#x7B49;&#x5374;&#x9700;&#x8981;&#x8017;&#x8D39;&#x989D;&#x5916;&#x7684;&#x65F6;&#x95F4;,&#x6574;&#x6570;&#x503C;&#x7684;&#x5224;&#x65AD;&#x64CD;&#x4F5C;&#x65F6;&#x95F4;&#x590D;&#x6742;&#x5EA6;&#x4E3A;O(1),&#x5B57;&#x7B26;&#x4E32;&#x4E3A;O(n),&#x54C8;&#x5E0C;&#x3001;&#x5217;&#x8868;&#x3001;&#x96C6;&#x5408;&#x3001;&#x6709;&#x5E8F;&#x96C6;&#x4E3A;O(n<sup>2</sup>)</li>\n</ul>\n</li>\n<li>redis&#x670D;&#x52A1;&#x5668;&#x521D;&#x59CB;&#x5316;&#x65F6;,&#x4F1A;&#x521B;&#x5EFA;0~9999&#x6574;&#x6570;&#x503C;(&#x5171;10000&#x4E2A;)&#x5B57;&#x7B26;&#x4E32;&#x5BF9;&#x8C61;&#x4F5C;&#x4E3A;&#x5171;&#x4EAB;&#x5BF9;&#x8C61;,&#x5F53;redis&#x4F7F;&#x7528;&#x8FD9;&#x4E9B;&#x5B57;&#x7B26;&#x4E32;&#x5BF9;&#x8C61;&#x65F6;,&#x5C06;&#x4F1A;&#x76F4;&#x63A5;&#x4F7F;&#x7528;&#x5171;&#x4EAB;&#x5BF9;&#x8C61;\n<ul>\n<li>&#x9ED8;&#x8BA4;&#x503C;&#x901A;&#x8FC7;&#x53C2;&#x6570;<code>REDIS_SHARED_INTEGERS</code>&#x8FDB;&#x884C;&#x6539;&#x53D8;</li>\n<li>ver4.0:<code>OBJ_SHARED_INTEGERS</code></li>\n</ul>\n</li>\n<li><code>object refcount [key]</code>:&#x67E5;&#x770B;&#x6307;&#x5B9A;key&#x5BF9;&#x5E94;&#x7684;value&#x7684;refcount&#x503C;</li>\n</ul>\n<h2 class="mume-header" id="string-1">string</h2>\n\n<ul>\n<li>&#x901A;&#x8FC7;redisObject&#x8FDB;&#x884C;&#x5B58;&#x50A8;,&#x5177;&#x6709;&#x4E09;&#x79CD;&#x4E0D;&#x540C;&#x7684;&#x7F16;&#x7801;&#x65B9;&#x5F0F;(encoding):int, embstr, raw</li>\n</ul>\n<h3 class="mume-header" id="int">int</h3>\n\n<ul>\n<li>&#x5F53;&#x5B58;&#x50A8;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x5168;&#x4E3A;&#x6570;&#x5B57;&#x65F6;,&#x91C7;&#x7528;int&#x5B58;&#x50A8;</li>\n</ul>\n<h3 class="mume-header" id="embstr">embstr</h3>\n\n<ul>\n<li>&#x5F53;&#x5B58;&#x50A8;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x957F;&#x5EA6;&#x5C0F;&#x4E8E;44&#x65F6;,&#x91C7;&#x7528;embstr&#x5B58;&#x50A8;</li>\n<li>&#x5B58;&#x50A8;&#x65B9;&#x5F0F;(&#x8FDE;&#x7EED;&#x5B58;&#x50A8;):</li>\n</ul>\n<pre data-role="codeBlock" data-info class="language-"><code>redisObject\n*ptr\nSDS\n</code></pre><h3 class="mume-header" id="raw">raw</h3>\n\n<ul>\n<li>&#x5F53;&#x5B58;&#x50A8;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x957F;&#x5EA6;&#x5927;&#x4E8E;44&#x65F6;,&#x91C7;&#x7528;raw&#x5B58;&#x50A8;</li>\n<li>&#x5B58;&#x50A8;&#x65B9;&#x5F0F;(SDS&#x4E0E;redisObject&#x5728;&#x5185;&#x5B58;&#x4E0A;&#x4E0D;&#x662F;&#x8FDE;&#x7EED;&#x5B58;&#x50A8;):</li>\n</ul>\n<pre data-role="codeBlock" data-info class="language-"><code>redisObject\n*ptr\n\nSDS\n</code></pre><h3 class="mume-header" id="sds">SDS</h3>\n\n<ul>\n<li>Simple Dynamic String,&#x7ECF;&#x8FC7;&#x5C01;&#x88C5;&#x7684;char*,&#x4F46;&#x662F;&#x5305;&#x542B;&#x4E86;&#x4E00;&#x4E2A;sdshdr&#x7684;&#x5934;&#x90E8;&#x4FE1;&#x606F;,&#x7ED3;&#x6784;:</li>\n</ul>\n<pre data-role="codeBlock" data-info="c" class="language-c"><span class="code-mark">c</span><span class="token keyword">struct</span> <span class="token class-name">sdshdr</span><span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token punctuation">{</span>\n    T len<span class="token punctuation">;</span> <span class="token comment">// &#x6570;&#x7EC4;&#x957F;&#x5EA6;</span>\n    T alloc<span class="token punctuation">;</span> <span class="token comment">// &#x6570;&#x7EC4;&#x5BB9;&#x91CF;</span>\n    <span class="token keyword">unsigned</span> <span class="token keyword">char</span> flags<span class="token punctuation">;</span> <span class="token comment">// sdshdr&#x7C7B;&#x578B;</span>\n    <span class="token keyword">char</span> buf<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// &#x6570;&#x7EC4;&#x5185;&#x5BB9;</span>\n<span class="token punctuation">}</span>\n</pre><h4 class="mume-header" id="len">len</h4>\n\n<ul>\n<li>&#x5F53;&#x524D;&#x5B57;&#x7B26;&#x4E32;&#x6570;&#x7EC4;&#x7684;&#x5B9E;&#x9645;&#x957F;&#x5EA6;</li>\n<li>&#x56E0;&#x4E3A;c&#x4E2D;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x83B7;&#x53D6;&#x957F;&#x5EA6;&#x662F;&#x901A;&#x8FC7;malloc&#x51FD;&#x6570;&#x83B7;&#x53D6;&#x7684;,&#x65F6;&#x95F4;&#x590D;&#x6742;&#x5EA6;&#x4E3A;O(n),&#x901A;&#x8FC7;&#x7EF4;&#x62A4;&#x4E00;&#x4E2A;len&#x5B57;&#x6BB5;&#x53EF;&#x4EE5;&#x5728;O(1)&#x83B7;&#x53D6;&#x5230;&#x957F;&#x5EA6;</li>\n<li>c&#x4E2D;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x7ED3;&#x5C3E;&#x901A;&#x8FC7;&#x662F;&#x5426;&#x4E3A;<code>\\0</code>&#x5224;&#x65AD;,&#x4F1A;&#x5BFC;&#x81F4;&#x5982;&#x56FE;&#x7247;&#x7B49;&#x7C7B;&#x578B;&#x7684;&#x6587;&#x4EF6;&#x65E0;&#x6CD5;&#x6B63;&#x5E38;&#x4FDD;&#x5B58;,&#x4F7F;&#x7528;len&#x6765;&#x8BB0;&#x5F55;&#x7ED3;&#x5C3E;&#x53EF;&#x4EE5;&#x4FDD;&#x8BC1;&#x4E8C;&#x8FDB;&#x5236;&#x5B89;&#x5168;</li>\n</ul>\n<h4 class="mume-header" id="alloc">alloc</h4>\n\n<ul>\n<li>&#x5F53;&#x524D;&#x5B57;&#x7B26;&#x4E32;&#x6570;&#x7EC4;&#x7684;&#x5185;&#x5B58;&#x957F;&#x5EA6;</li>\n<li>&#x540C;java&#x4E2D;&#x7684;ArrayList,&#x4E00;&#x4E2A;&#x5B57;&#x7B26;&#x4E32;&#x6570;&#x7EC4;&#x7684;&#x5185;&#x5B58;&#x957F;&#x5EA6;&#x5927;&#x4E8E;&#x5176;&#x5B9E;&#x9645;&#x957F;&#x5EA6;</li>\n<li>&#x5F53;&#x5B57;&#x7B26;&#x4E32;&#x6269;&#x5BB9;&#x65F6;,&#x5982;&#x679C;<code>alloc - len</code>&#x53EF;&#x4EE5;&#x5206;&#x914D;&#x8FFD;&#x52A0;&#x7684;&#x5185;&#x5BB9;,&#x5219;&#x76F4;&#x63A5;&#x8FFD;&#x52A0;;</li>\n<li>&#x5982;&#x679C;&#x5269;&#x4F59;&#x5185;&#x5B58;&#x7A7A;&#x95F4;&#x4E0D;&#x8DB3;,&#x5219;:\n<ul>\n<li>&#x5B57;&#x7B26;&#x4E32;&#x5360;&#x7528;&#x5927;&#x5C0F;&#x5C0F;&#x4E8E;1M&#x65F6;,&#x6BCF;&#x6B21;&#x5206;&#x914D;<code>len * 2</code></li>\n<li>&#x5B57;&#x7B26;&#x4E32;&#x5360;&#x7528;&#x5927;&#x5C0F;&#x5927;&#x4E8E;1M&#x65F6;,&#x6BCF;&#x6B21;&#x5206;&#x914D;1M</li>\n</ul>\n</li>\n<li>&#x901A;&#x8FC7;&#x52A8;&#x6001;&#x5206;&#x914D;&#x5185;&#x5B58;,&#x675C;&#x7EDD;&#x4E86;&#x7F13;&#x51B2;&#x533A;&#x6EA2;&#x51FA;&#x7684;&#x53EF;&#x80FD;&#x6027;</li>\n</ul>\n<h4 class="mume-header" id="flags">flags</h4>\n\n<ul>\n<li>sdshdr&#x7684;&#x7C7B;&#x578B;,&#x5171;&#x5305;&#x542B;&#x4E94;&#x79CD;:</li>\n</ul>\n<pre data-role="codeBlock" data-info="c" class="language-c"><span class="code-mark">c</span><span class="token keyword">struct</span> <span class="token keyword">__attribute__</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>__packed__<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token class-name">sdshdr5</span> <span class="token punctuation">{</span>\n    <span class="token keyword">unsigned</span> <span class="token keyword">char</span> flags<span class="token punctuation">;</span> <span class="token comment">/* 3 lsb of type, and 5 msb of string length */</span>\n    <span class="token keyword">char</span> buf<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n<span class="token keyword">struct</span> <span class="token keyword">__attribute__</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>__packed__<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token class-name">sdshdr8</span> <span class="token punctuation">{</span>\n    <span class="token class-name">uint8_t</span> len<span class="token punctuation">;</span> <span class="token comment">/* used */</span>\n    <span class="token class-name">uint8_t</span> alloc<span class="token punctuation">;</span> <span class="token comment">/* excluding the header and null terminator */</span>\n    <span class="token keyword">unsigned</span> <span class="token keyword">char</span> flags<span class="token punctuation">;</span> <span class="token comment">/* 3 lsb of type, 5 unused bits */</span>\n    <span class="token keyword">char</span> buf<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n<span class="token keyword">struct</span> <span class="token keyword">__attribute__</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>__packed__<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token class-name">sdshdr16</span> <span class="token punctuation">{</span>\n    <span class="token class-name">uint16_t</span> len<span class="token punctuation">;</span> <span class="token comment">/* used */</span>\n    <span class="token class-name">uint16_t</span> alloc<span class="token punctuation">;</span> <span class="token comment">/* excluding the header and null terminator */</span>\n    <span class="token keyword">unsigned</span> <span class="token keyword">char</span> flags<span class="token punctuation">;</span> <span class="token comment">/* 3 lsb of type, 5 unused bits */</span>\n    <span class="token keyword">char</span> buf<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n<span class="token keyword">struct</span> <span class="token keyword">__attribute__</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>__packed__<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token class-name">sdshdr32</span> <span class="token punctuation">{</span>\n    <span class="token class-name">uint32_t</span> len<span class="token punctuation">;</span> <span class="token comment">/* used */</span>\n    <span class="token class-name">uint32_t</span> alloc<span class="token punctuation">;</span> <span class="token comment">/* excluding the header and null terminator */</span>\n    <span class="token keyword">unsigned</span> <span class="token keyword">char</span> flags<span class="token punctuation">;</span> <span class="token comment">/* 3 lsb of type, 5 unused bits */</span>\n    <span class="token keyword">char</span> buf<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n<span class="token keyword">struct</span> <span class="token keyword">__attribute__</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>__packed__<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token class-name">sdshdr64</span> <span class="token punctuation">{</span>\n    <span class="token class-name">uint64_t</span> len<span class="token punctuation">;</span> <span class="token comment">/* used */</span>\n    <span class="token class-name">uint64_t</span> alloc<span class="token punctuation">;</span> <span class="token comment">/* excluding the header and null terminator */</span>\n    <span class="token keyword">unsigned</span> <span class="token keyword">char</span> flags<span class="token punctuation">;</span> <span class="token comment">/* 3 lsb of type, 5 unused bits */</span>\n    <span class="token keyword">char</span> buf<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n</pre><ul>\n<li>flags&#x7684;&#x7B2C;&#x4E09;&#x4F4D;&#x8868;&#x793A;sds&#x7C7B;&#x578B;:</li>\n</ul>\n<pre data-role="codeBlock" data-info="c" class="language-c"><span class="code-mark">c</span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">SDS_TYPE_5</span>  <span class="token expression"><span class="token number">0</span></span></span>\n<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">SDS_TYPE_8</span>  <span class="token expression"><span class="token number">1</span></span></span>\n<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">SDS_TYPE_16</span> <span class="token expression"><span class="token number">2</span></span></span>\n<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">SDS_TYPE_32</span> <span class="token expression"><span class="token number">3</span></span></span>\n<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">SDS_TYPE_64</span> <span class="token expression"><span class="token number">4</span></span></span>\n</pre><ul>\n<li>&#x6CE8;:<code>__attribute__ ((__packed__))</code>&#x4F7F;&#x5F97;gcc&#x53D6;&#x6D88;&#x4F18;&#x5316;&#x5BF9;&#x9F50;,&#x4FDD;&#x8BC1;&#x6BCF;&#x4E2A;&#x5B57;&#x6BB5;&#x5206;&#x914D;&#x7684;&#x5185;&#x5B58;&#x5730;&#x5740;&#x662F;&#x7D27;&#x7D27;&#x6392;&#x5217;&#x5728;&#x4E00;&#x8D77;&#x7684;,&#x8FD9;&#x6837;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;sds[-1]&#xFF08;&#x5373;buf[-1]&#xFF09;&#x83B7;&#x53D6;flags&#x5C5E;&#x6027;&#x7684;&#x5185;&#x5B58;&#x5730;&#x5740;,&#x4ECE;&#x800C;&#x53EF;&#x4EE5;&#x786E;&#x5B9A;sdshdr&#x7684;&#x7C7B;&#x578B;&#x53CA;&#x5C5E;&#x6027;</li>\n</ul>\n<h2 class="mume-header" id="list-1">list</h2>\n\n<ul>\n<li>&#x5E95;&#x5C42;&#x5B58;&#x50A8;&#x65B9;&#x5F0F;&#x5206;&#x4E3A;<code>linkedList</code>(&#x53CC;&#x5411;&#x94FE;&#x8868;),<code>zipList</code>(&#x8FDE;&#x7EED;&#x7684;&#x6570;&#x7EC4;),<code>quickList</code>(&#x524D;&#x9762;&#x4E8C;&#x8005;&#x7684;&#x7ED3;&#x5408;,ver3.2&#x4EE5;&#x540E;)</li>\n<li>&#x65B0;list&#x9ED8;&#x8BA4;&#x4F7F;&#x7528;<code>zipList</code>,&#x5F53;&#x53D1;&#x751F;&#x4EE5;&#x4E0B;&#x60C5;&#x51B5;&#x65F6;&#x8F6C;&#x53D8;&#x4E3A;<code>linkedList</code>:\n<ul>\n<li>&#x5F53;&#x5411;list&#x4E2D;&#x6DFB;&#x52A0;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x503C;,&#x4E14;&#x5B57;&#x7B26;&#x4E32;&#x957F;&#x5EA6;&#x8D85;&#x8FC7;<code>server.list_max_ziplist_value</code>&#x8BBE;&#x5B9A;&#x7684;&#x503C;(&#x9ED8;&#x8BA4;64)</li>\n<li>ziplist&#x5305;&#x542B;&#x7684;&#x8282;&#x70B9;&#x8D85;&#x8FC7;<code>server.list_max_ziplist_entries</code>&#x8BBE;&#x5B9A;&#x7684;&#x503C;(&#x9ED8;&#x8BA4;512)</li>\n</ul>\n</li>\n<li>ver3.2:&#x5E95;&#x5C42;&#x4E3A;quickList</li>\n</ul>\n<h3 class="mume-header" id="linkedlist">linkedList</h3>\n\n<ul>\n<li>&#x53CC;&#x5411;&#x94FE;&#x8868;,&#x7ED3;&#x6784;:</li>\n</ul>\n<pre data-role="codeBlock" data-info="c" class="language-c"><span class="code-mark">c</span><span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">list</span><span class="token punctuation">{</span>\n    <span class="token comment">//&#x5934;&#x6307;&#x9488;</span>\n    listNode <span class="token operator">*</span>head<span class="token punctuation">;</span>\n    <span class="token comment">//&#x5C3E;&#x6307;&#x9488;</span>\n    listNode <span class="token operator">*</span>tail<span class="token punctuation">;</span>\n    <span class="token comment">//&#x8282;&#x70B9;&#x62F7;&#x8D1D;&#x51FD;&#x6570;</span>\n    <span class="token keyword">void</span> <span class="token operator">*</span><span class="token punctuation">(</span><span class="token operator">*</span>dup<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">void</span> <span class="token operator">*</span>ptr<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token comment">//&#x91CA;&#x653E;&#x8282;&#x70B9;&#x51FD;&#x6570;</span>\n    <span class="token keyword">void</span> <span class="token operator">*</span><span class="token punctuation">(</span><span class="token operator">*</span>free<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">void</span> <span class="token operator">*</span>ptr<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token comment">//&#x5224;&#x65AD;&#x4E24;&#x4E2A;&#x8282;&#x70B9;&#x662F;&#x5426;&#x76F8;&#x7B49;&#x7684;&#x51FD;&#x6570;</span>\n    <span class="token keyword">int</span> <span class="token punctuation">(</span><span class="token operator">*</span>match<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">void</span> <span class="token operator">*</span>ptr<span class="token punctuation">,</span><span class="token keyword">void</span> <span class="token operator">*</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token comment">//&#x94FE;&#x8868;&#x957F;&#x5EA6;</span>\n    <span class="token keyword">unsigned</span> <span class="token keyword">long</span> len<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n</pre><ul>\n<li>&#x5176;&#x4E2D;&#x94FE;&#x8868;&#x8282;&#x70B9;<code>listNode</code>&#x7ED3;&#x6784;&#x5982;&#x4E0B;:</li>\n</ul>\n<pre data-role="codeBlock" data-info="c" class="language-c"><span class="code-mark">c</span><span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">listNode</span><span class="token punctuation">{</span>\n    <span class="token comment">//&#x524D;&#x4E00;&#x4E2A;&#x8282;&#x70B9;</span>\n    <span class="token keyword">struct</span> <span class="token class-name">listNode</span> <span class="token operator">*</span>prev<span class="token punctuation">;</span>\n    <span class="token comment">//&#x540E;&#x4E00;&#x4E2A;&#x8282;&#x70B9;</span>\n    <span class="token keyword">struct</span> <span class="token class-name">listNode</span> <span class="token operator">*</span>next<span class="token punctuation">;</span>\n    <span class="token comment">//&#x5F53;&#x524D;&#x8282;&#x70B9;&#x7684;&#x503C;&#x7684;&#x6307;&#x9488;</span>\n    <span class="token keyword">void</span> <span class="token operator">*</span>value<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>listNode<span class="token punctuation">;</span>\n</pre><ul>\n<li>&#x7ED3;&#x6784;&#x56FE;:<br>\n<img src="https://raw.githubusercontent.com/voidblank/voidblank.github.io/gh-pages/static/img/redis-linkedlist.png" alt></li>\n</ul>\n<h3 class="mume-header" id="ziplist">ziplist</h3>\n\n<ul>\n<li>&#x6570;&#x7EC4;,&#x652F;&#x6301;&#x53CC;&#x5411;&#x904D;&#x5386;,&#x7ED3;&#x6784;&#x4E3A;:</li>\n</ul>\n<pre data-role="codeBlock" data-info="c" class="language-c"><span class="code-mark">c</span><span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">ziplist</span><span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token punctuation">{</span>\n    <span class="token comment">//&#x538B;&#x7F29;&#x5217;&#x8868;&#x5360;&#x7528;&#x5B57;&#x7B26;&#x6570;</span>\n    <span class="token class-name">uint32_t</span> zlbytes<span class="token punctuation">;</span>\n    <span class="token comment">//&#x4ECE;zlbytes&#x7684;&#x8D77;&#x59CB;&#x5730;&#x5740;&#x5230;&#x6700;&#x540E;&#x4E00;&#x4E2A;entry&#x7684;&#x8D77;&#x59CB;&#x5730;&#x5740;&#x7684;&#x504F;&#x79FB;&#x91CF;,</span>\n    <span class="token comment">//&#x901A;&#x8FC7;&#x8BE5;&#x5C5E;&#x6027;&#x53EF;&#x4EE5;&#x8FDB;&#x884C;&#x5012;&#x5E8F;&#x904D;&#x5386;</span>\n    <span class="token class-name">uint32_t</span> zltail_offset<span class="token punctuation">;</span>\n    <span class="token comment">//&#x5143;&#x7D20;&#x4E2A;&#x6570;</span>\n    <span class="token class-name">uint16_t</span> zllength<span class="token punctuation">;</span>\n    <span class="token comment">//&#x5143;&#x7D20;&#x5185;&#x5BB9;</span>\n    T<span class="token punctuation">[</span><span class="token punctuation">]</span> entries<span class="token punctuation">;</span>\n    <span class="token comment">//&#x7ED3;&#x675F;&#x4F4D; 0xFF</span>\n    <span class="token class-name">uint8_t</span> zlend<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>ziplist\n</pre><ul>\n<li>entry&#x4E3A;&#x5B58;&#x50A8;&#x7684;&#x6BCF;&#x4E2A;&#x5143;&#x7D20;,&#x7ED3;&#x6784;&#x5982;&#x4E0B;</li>\n</ul>\n<pre data-role="codeBlock" data-info="c" class="language-c"><span class="code-mark">c</span><span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">entry</span><span class="token punctuation">{</span>\n    <span class="token comment">//&#x524D;&#x4E00;&#x4E2A;entry&#x7684;&#x957F;&#x5EA6;</span>\n    <span class="token keyword">int</span><span class="token operator">&lt;</span>var<span class="token operator">&gt;</span> prelen<span class="token punctuation">;</span>\n    <span class="token comment">//&#x5143;&#x7D20;&#x7C7B;&#x578B;&#x7F16;&#x7801;</span>\n    <span class="token keyword">int</span><span class="token operator">&lt;</span>var<span class="token operator">&gt;</span> encoding<span class="token punctuation">;</span>\n    <span class="token comment">//&#x5143;&#x7D20;&#x5185;&#x5BB9;</span>\n    optional byte<span class="token punctuation">[</span><span class="token punctuation">]</span> content<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>entry\n</pre><ul>\n<li>&#x7ED3;&#x6784;&#x56FE;:<br>\n<img src="https://raw.githubusercontent.com/voidblank/voidblank.github.io/gh-pages/static/img/redis-ziplist.png" alt></li>\n</ul>\n<h4 class="mume-header" id="ziplist%E4%B8%8Elinkedlist%E7%9A%84%E6%AF%94%E8%BE%83">ziplist&#x4E0E;linkedList&#x7684;&#x6BD4;&#x8F83;</h4>\n\n<ul>\n<li>&#x53CC;&#x5411;&#x94FE;&#x8868;&#x7684;&#x6BCF;&#x4E2A;&#x5143;&#x7D20;&#x5B58;&#x6709;pre&#x4E0E;next&#x6307;&#x9488;,&#x5360;&#x636E;&#x989D;&#x5916;&#x5185;&#x5B58;</li>\n<li>ziplist&#x6BCF;&#x4E2A;entry&#x53EA;&#x5B58;&#x6709;&#x5143;&#x7D20;,&#x4E0D;&#x9700;&#x8981;&#x4FDD;&#x5B58;&#x989D;&#x5916;&#x7684;&#x6307;&#x9488;</li>\n<li>&#x53CC;&#x5411;&#x94FE;&#x8868;&#x56E0;&#x4E3A;&#x5143;&#x7D20;&#x5728;&#x5185;&#x5B58;&#x4E2D;&#x4E0D;&#x8FDE;&#x7EED;,&#x6240;&#x4EE5;&#x8FDB;&#x884C;&#x5185;&#x5B58;&#x7BA1;&#x7406;&#x65F6;&#x4F1A;&#x51FA;&#x73B0;&#x5927;&#x91CF;&#x788E;&#x7247;&#x5316;&#x5185;&#x5B58;,&#x5F71;&#x54CD;&#x5185;&#x5B58;&#x7BA1;&#x7406;&#x53CA;gc</li>\n<li>ziplist&#x5728;&#x5185;&#x5B58;&#x4E2D;&#x8FDE;&#x7EED;,&#x8FDB;&#x884C;&#x51CF;&#x5C11;&#x788E;&#x7247;&#x5316;,&#x8282;&#x7EA6;&#x5185;&#x5B58;</li>\n<li>&#x53CC;&#x5411;&#x94FE;&#x8868;&#x5728;&#x4E24;&#x7AEF;&#x8FDB;&#x884C;push&#x4E0E;pop&#x65F6;,&#x6548;&#x7387;&#x9AD8;</li>\n<li>ziplist&#x5728;&#x8FDE;&#x7EED;&#x5185;&#x5B58;&#x533A;&#x95F4;&#x5185;&#x5B58;&#x50A8;&#x6548;&#x7387;&#x9AD8;,&#x800C;&#x4FEE;&#x6539;&#x3001;&#x63D2;&#x5165;&#x3001;&#x5220;&#x9664;&#x5219;&#x6548;&#x7387;&#x8F83;&#x4F4E;</li>\n</ul>\n<h4 class="mume-header" id="ziplist%E7%9A%84%E8%BF%9E%E9%94%81%E6%9B%B4%E6%96%B0">ziplist&#x7684;&#x8FDE;&#x9501;&#x66F4;&#x65B0;</h4>\n\n<ul>\n<li>entry&#x4E2D;&#x901A;&#x8FC7;prelen&#x4FDD;&#x5B58;&#x4E86;&#x524D;&#x4E00;&#x4E2A;entry&#x7684;&#x957F;&#x5EA6;,&#x5927;&#x5C0F;&#x6839;&#x636E;&#x4E0B;&#x5217;&#x539F;&#x5219;:\n<ul>\n<li>&#x524D;&#x4E00;&#x4E2A;&#x8282;&#x70B9;&#x7684;&#x957F;&#x5EA6;&#x5C0F;&#x4E8E;254&#x4E2A;&#x5B57;&#x8282;,&#x5219;prelen&#x957F;&#x5EA6;&#x4E3A;1&#x5B57;&#x8282;</li>\n<li>&#x524D;&#x4E00;&#x4E2A;&#x8282;&#x70B9;&#x7684;&#x957F;&#x5EA6;&#x5927;&#x4E8E;254&#x5B57;&#x8282;,&#x5219;prelen&#x957F;&#x5EA6;&#x4E3A;5&#x5B57;&#x8282;</li>\n</ul>\n</li>\n<li>&#x6839;&#x636E;&#x8BE5;&#x539F;&#x5219;,&#x5219;&#x5728;prelen&#x957F;&#x5EA6;&#x4E3A;1&#x5B57;&#x8282;&#x7684;entry&#x524D;(&#x8BB0;&#x4F5C;entry1),&#x63D2;&#x5165;&#x4E00;&#x4E2A;entry&#x5927;&#x4E8E;&#x7B49;&#x4E8E;254&#x5B57;&#x8282;&#x7684;&#x65B0;&#x8282;&#x70B9;(&#x8BB0;&#x4F5C;entry0),&#x5219;&#x4F1A;&#x5BFC;&#x81F4;entry1&#x7684;prelen&#x589E;&#x5927;&#x4E3A;5&#x5B57;&#x8282;\n<ul>\n<li>&#x82E5;entry1&#x5728;&#x589E;&#x5927;&#x540E;&#x5BFC;&#x81F4;&#x5176;&#x957F;&#x5EA6;&#x5927;&#x5C0F;&#x8D85;&#x8FC7;254&#x5B57;&#x8282;,&#x4F1A;&#x5BFC;&#x81F4;&#x540E;&#x7EED;entry&#x4E5F;&#x8FDB;&#x884C;prelen&#x66F4;&#x65B0;,&#x800C;&#x8FD9;&#x53EF;&#x80FD;&#x4F1A;&#x5BFC;&#x81F4;&#x8FDE;&#x7EED;&#x591A;&#x4E2A;entry&#x90FD;&#x589E;&#x5927;&#x7684;&#x60C5;&#x51B5;</li>\n<li>&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x4E0B;&#x4F1A;&#x5BFC;&#x81F4;redis&#x5BF9;&#x8BE5;ziplist&#x8FDB;&#x884C;&#x8FDE;&#x7EED;&#x7684;&#x5185;&#x5B58;&#x5206;&#x914D;&#x76F4;&#x81F3;&#x7ED3;&#x675F;,&#x8BE5;&#x60C5;&#x51B5;&#x79F0;&#x4E3A;&#x8FDE;&#x9501;&#x66F4;&#x65B0;</li>\n</ul>\n</li>\n<li>&#x5F53;&#x89E6;&#x53D1;&#x8FDE;&#x9501;&#x66F4;&#x65B0;&#x65F6;,&#x4F1A;&#x5C06;&#x63D2;&#x5165;&#x7684;&#x65F6;&#x95F4;&#x590D;&#x6742;&#x5EA6;&#x53D8;&#x4E3A;O(n<sup>2</sup>)</li>\n</ul>\n<h3 class="mume-header" id="quicklist">quickList</h3>\n\n<ul>\n<li>ver3.2&#x4E4B;&#x540E;&#x65B0;&#x51FA;&#x73B0;&#x7684;&#x6570;&#x636E;&#x7ED3;&#x6784;</li>\n<li>&#x672C;&#x8EAB;&#x662F;&#x4E00;&#x4E2A;&#x53CC;&#x5411;&#x94FE;&#x8868;,&#x6BCF;&#x4E2A;&#x8282;&#x70B9;&#x90FD;&#x4F7F;&#x7528;ziplist&#x6765;&#x5B58;&#x50A8;&#x6570;&#x636E;,&#x8282;&#x70B9;&#x76F4;&#x63A5;&#x5305;&#x542B;&#x4E86;pre&#x6307;&#x9488;&#x4E0E;next&#x6307;&#x9488;</li>\n<li>&#x56FE;&#x793A;:<br>\n<img src="https://raw.githubusercontent.com/voidblank/voidblank.github.io/gh-pages/static/img/redis-quicklist.png" alt></li>\n<li>&#x7ED3;&#x6784;&#x5982;&#x4E0B;:</li>\n</ul>\n<pre data-role="codeBlock" data-info="c" class="language-c"><span class="code-mark">c</span><span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">quicklist</span><span class="token punctuation">{</span>\n    quicklistNode<span class="token operator">*</span> head<span class="token punctuation">;</span>\n    quicklistNode<span class="token operator">*</span> tail<span class="token punctuation">;</span>\n    <span class="token keyword">unsigned</span> <span class="token keyword">long</span> count<span class="token punctuation">;</span>\n    <span class="token keyword">unsigned</span> <span class="token keyword">int</span> len<span class="token punctuation">;</span>\n    <span class="token keyword">int</span> fill <span class="token operator">:</span> <span class="token number">16</span><span class="token punctuation">;</span>\n    <span class="token keyword">unsigned</span> <span class="token keyword">int</span> compressDepth <span class="token operator">:</span> <span class="token number">16</span><span class="token punctuation">;</span>\t\t\n<span class="token punctuation">}</span>quickList\n</pre><ul>\n<li>&#x5176;&#x4E2D;,quicklistNode&#x7684;&#x7ED3;&#x6784;&#x5982;&#x4E0B;:</li>\n</ul>\n<pre data-role="codeBlock" data-info="c" class="language-c"><span class="code-mark">c</span><span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">quicklistNode</span> <span class="token punctuation">{</span>\n    <span class="token keyword">struct</span> <span class="token class-name">quicklistNode</span> <span class="token operator">*</span>prev<span class="token punctuation">;</span>\n    <span class="token keyword">struct</span> <span class="token class-name">quicklistNode</span> <span class="token operator">*</span>next<span class="token punctuation">;</span>\n    <span class="token keyword">unsigned</span> <span class="token keyword">char</span> <span class="token operator">*</span>zl<span class="token punctuation">;</span>\n    <span class="token keyword">unsigned</span> <span class="token keyword">int</span> sz<span class="token punctuation">;</span>\n    <span class="token keyword">unsigned</span> <span class="token keyword">int</span> count <span class="token operator">:</span> <span class="token number">16</span><span class="token punctuation">;</span>\n    <span class="token keyword">unsigned</span> <span class="token keyword">int</span> encoding <span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">;</span>\n    <span class="token keyword">unsigned</span> <span class="token keyword">int</span> container <span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">;</span>\n    <span class="token keyword">unsigned</span> <span class="token keyword">int</span> recompress <span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">;</span>\n    <span class="token keyword">unsigned</span> <span class="token keyword">int</span> attempted_compress <span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">;</span>\n    <span class="token keyword">unsigned</span> <span class="token keyword">int</span> extra <span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span> quicklistNode<span class="token punctuation">;</span>\n</pre><h4 class="mume-header" id="quicklist%E7%BB%93%E6%9E%84">quicklist&#x7ED3;&#x6784;</h4>\n\n<ul>\n<li><code>*head</code>:&#x5934;&#x8282;&#x70B9;&#x6307;&#x9488;</li>\n<li><code>*tail</code>:&#x5C3E;&#x8282;&#x70B9;&#x6307;&#x9488;</li>\n<li><code>count</code>:entry&#x603B;&#x6570;</li>\n<li><code>len</code>:Node&#x8282;&#x70B9;&#x603B;&#x6570;</li>\n<li><code>fill</code>:ziplist&#x8BBE;&#x5B9A;\n<ul>\n<li>&#x5F53;&#x4E3A;&#x8D1F;&#x6570;&#x65F6;,&#x8868;&#x793A;&#x6BCF;&#x4E2A;&#x8282;&#x70B9;&#x7684;ziplist&#x5B57;&#x8282;&#x5927;&#x5C0F;&#x4E0D;&#x80FD;&#x8D85;&#x8FC7;&#x67D0;&#x4E2A;&#x503C;</li>\n<li>&#x5F53;&#x4E3A;&#x6B63;&#x6570;&#x65F6;,&#x8868;&#x793A;&#x6BCF;&#x4E2A;ziplist&#x6700;&#x591A;&#x80FD;&#x5BB9;&#x7EB3;&#x7684;entry&#x6570;,&#x4E0A;&#x9650;&#x4E3A;2<sup>15</sup></li>\n<li>&#x5360;16bit</li>\n<li>&#x901A;&#x8FC7;<code>list-max-ziplist-size</code>&#x8BBE;&#x7F6E;,&#x9ED8;&#x8BA4;-2,&#x4E3A;8kb</li>\n</ul>\n</li>\n<li><code>compressDepth</code>:&#x538B;&#x7F29;&#x7B97;&#x6CD5;&#x6DF1;&#x5EA6;\n<ul>\n<li>&#x4E3A;0&#x65F6;,&#x4E0D;&#x538B;&#x7F29;</li>\n<li>&#x4E3A;1&#x65F6;,&#x8868;&#x793A;&#x9664;&#x4E86;&#x9996;&#x5C3E;&#x5404;&#x4E00;&#x4E2A;&#x8282;&#x70B9;&#x5916;&#x90FD;&#x538B;&#x7F29;</li>\n<li>&#x4E3A;2&#x65F6;,&#x8868;&#x793A;&#x9664;&#x4E86;&#x9996;&#x5C3E;&#x5404;&#x4E24;&#x4E2A;&#x8282;&#x70B9;&#x5916;&#x90FD;&#x538B;&#x7F29;</li>\n<li>&#x6700;&#x5927;&#x4E3A;2<sup>16</sup></li>\n<li>&#x901A;&#x8FC7;<code>list-compress-depth</code>&#x8BBE;&#x7F6E;,&#x9ED8;&#x8BA4;&#x4E3A;0</li>\n</ul>\n</li>\n</ul>\n<h4 class="mume-header" id="quicklistnode%E7%BB%93%E6%9E%84">quicklistNode&#x7ED3;&#x6784;</h4>\n\n<ul>\n<li><code>*prev</code>:&#x524D;&#x4E00;&#x4E2A;Node&#x8282;&#x70B9;</li>\n<li><code>*next</code>:&#x540E;&#x4E00;&#x4E2A;Node&#x8282;&#x70B9;</li>\n<li><code>*zl</code>:&#x5F53;ziplist&#x672A;&#x538B;&#x7F29;&#x65F6;&#x6307;&#x5411;&#x4E00;&#x4E2A;ziplist,&#x5426;&#x5219;&#x6307;&#x5411;&#x4E00;&#x4E2A;quicklistLZF</li>\n<li><code>sz</code>:ziplist&#x7684;&#x603B;&#x957F;&#x5EA6;</li>\n<li><code>count</code>:ziplist&#x7684;&#x8282;&#x70B9;&#x6570;</li>\n<li><code>encoding</code>:&#x4E3A;1&#x8868;&#x793A;&#x672A;&#x538B;&#x7F29;,&#x4E3A;2&#x8868;&#x793A;&#x5DF2;&#x4F7F;&#x7528;LZF&#x538B;&#x7F29;</li>\n<li><code>container</code>:&#x4E3A;2&#x8868;&#x793A;&#x6570;&#x636E;&#x7ED3;&#x6784;&#x4E3A;ziplsit,&#x4E3A;1&#x8868;&#x793A;&#x975E;ziplist</li>\n<li><code>recompress</code>:&#x6807;&#x8BB0;quicklist&#x8282;&#x70B9;&#x7684;ziplist&#x4E4B;&#x524D;&#x662F;&#x5426;&#x88AB;&#x89E3;&#x538B;&#x7F29;&#x8FC7;,&#x4E3A;1&#x8868;&#x793A;&#x7B49;&#x5F85;&#x88AB;&#x518D;&#x6B21;&#x538B;&#x7F29;</li>\n<li><code>attempted_compress</code>:?</li>\n<li><code>extra</code>:&#x62D3;&#x5C55;&#x4F4D;</li>\n</ul>\n<h4 class="mume-header" id="quicklistlzf%E7%BB%93%E6%9E%84">quicklistLZF&#x7ED3;&#x6784;</h4>\n\n<pre data-role="codeBlock" data-info="c" class="language-c"><span class="code-mark">c</span><span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">quicklistLZF</span> <span class="token punctuation">{</span>\n    <span class="token comment">//&#x8868;&#x793A;&#x88AB;LZF&#x7B97;&#x6CD5;&#x538B;&#x7F29;&#x540E;&#x7684;ziplist&#x7684;&#x5927;&#x5C0F;</span>\n    <span class="token keyword">unsigned</span> <span class="token keyword">int</span> sz<span class="token punctuation">;</span> <span class="token comment">/* LZF size in bytes*/</span>\n    <span class="token comment">//&#x4FDD;&#x5B58;&#x538B;&#x7F29;&#x540E;&#x7684;ziplist&#x7684;&#x6570;&#x7EC4;&#xFF0C;&#x67D4;&#x6027;&#x6570;&#x7EC4;</span>\n    <span class="token keyword">char</span> compressed<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span> quicklistLZF<span class="token punctuation">;</span>\n</pre><h4 class="mume-header" id="ziplistentry%E7%BB%93%E6%9E%84">ziplistEntry&#x7ED3;&#x6784;</h4>\n\n<pre data-role="codeBlock" data-info="c" class="language-c"><span class="code-mark">c</span><span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">quicklistEntry</span> <span class="token punctuation">{</span>\n    <span class="token keyword">const</span> quicklist <span class="token operator">*</span>quicklist<span class="token punctuation">;</span>   <span class="token comment">//&#x6307;&#x5411;&#x6240;&#x5C5E;&#x7684;quicklist&#x7684;&#x6307;&#x9488;</span>\n    quicklistNode <span class="token operator">*</span>node<span class="token punctuation">;</span>          <span class="token comment">//&#x6307;&#x5411;&#x6240;&#x5C5E;&#x7684;quicklistNode&#x8282;&#x70B9;&#x7684;&#x6307;&#x9488;</span>\n    <span class="token keyword">unsigned</span> <span class="token keyword">char</span> <span class="token operator">*</span>zi<span class="token punctuation">;</span>            <span class="token comment">//&#x6307;&#x5411;&#x5F53;&#x524D;ziplist&#x7ED3;&#x6784;&#x7684;&#x6307;&#x9488;</span>\n    <span class="token keyword">unsigned</span> <span class="token keyword">char</span> <span class="token operator">*</span>value<span class="token punctuation">;</span>         <span class="token comment">//&#x6307;&#x5411;&#x5F53;&#x524D;ziplist&#x7ED3;&#x6784;&#x7684;&#x5B57;&#x7B26;&#x4E32;vlaue&#x6210;&#x5458;</span>\n    <span class="token keyword">long</span> <span class="token keyword">long</span> longval<span class="token punctuation">;</span>            <span class="token comment">//&#x6307;&#x5411;&#x5F53;&#x524D;ziplist&#x7ED3;&#x6784;&#x7684;&#x6574;&#x6570;value&#x6210;&#x5458;</span>\n    <span class="token keyword">unsigned</span> <span class="token keyword">int</span> sz<span class="token punctuation">;</span>              <span class="token comment">//&#x4FDD;&#x5B58;&#x5F53;&#x524D;ziplist&#x7ED3;&#x6784;&#x7684;&#x5B57;&#x8282;&#x6570;&#x5927;&#x5C0F;</span>\n    <span class="token keyword">int</span> offset<span class="token punctuation">;</span>                   <span class="token comment">//&#x4FDD;&#x5B58;&#x76F8;&#x5BF9;ziplist&#x7684;&#x504F;&#x79FB;&#x91CF;</span>\n<span class="token punctuation">}</span> quicklistEntry<span class="token punctuation">;</span>\n</pre><h2 class="mume-header" id="hash-1">hash</h2>\n\n<ul>\n<li>&#x6570;&#x636E;&#x91CF;&#x5C0F;&#x7684;&#x65F6;&#x5019;&#x91C7;&#x7528;ziplist,&#x6570;&#x636E;&#x91CF;&#x5927;&#x7684;&#x65F6;&#x5019;&#x91C7;&#x7528;dict</li>\n<li>dict&#x7ED3;&#x6784;&#x5982;&#x4E0B;:</li>\n</ul>\n<pre data-role="codeBlock" data-info="c" class="language-c"><span class="code-mark">c</span><span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">dict</span><span class="token punctuation">{</span>\n    dictType <span class="token operator">*</span>type<span class="token punctuation">;</span>\n    <span class="token keyword">void</span> <span class="token operator">*</span>privdata<span class="token punctuation">;</span>\n    dictht ht<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n    <span class="token keyword">long</span> rehashidx<span class="token punctuation">;</span>\n    <span class="token keyword">unsigned</span> <span class="token keyword">long</span> iterators<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>dict<span class="token punctuation">;</span>\n</pre><ul>\n<li>&#x5176;&#x4E2D;,dictht&#x4F5C;&#x4E3A;&#x5B9E;&#x9645;&#x7684;&#x54C8;&#x5E0C;&#x8868;,&#x7ED3;&#x6784;&#x5982;&#x4E0B;:</li>\n</ul>\n<pre data-role="codeBlock" data-info="c" class="language-c"><span class="code-mark">c</span><span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">dictht</span> <span class="token punctuation">{</span>\n    dictEntry <span class="token operator">*</span><span class="token operator">*</span>table<span class="token punctuation">;</span>\n    <span class="token keyword">unsigned</span> <span class="token keyword">long</span> size<span class="token punctuation">;</span>\n    <span class="token keyword">unsigned</span> <span class="token keyword">long</span> sizemask<span class="token punctuation">;</span>\n    <span class="token keyword">unsigned</span> <span class="token keyword">long</span> used<span class="token punctuation">;</span>\n<span class="token punctuation">}</span> dictht<span class="token punctuation">;</span>\n</pre><ul>\n<li>&#x5176;&#x4E2D;,dictEntry&#x6570;&#x7EC4;&#x5B58;&#x50A8;&#x6570;&#x636E;</li>\n</ul>\n<h3 class="mume-header" id="dict%E8%AF%B4%E6%98%8E">dict&#x8BF4;&#x660E;</h3>\n\n<ul>\n<li><code>*type</code>:&#x6307;&#x5411;dictType&#x7684;&#x6307;&#x9488;,&#x901A;&#x8FC7;&#x81EA;&#x5B9A;&#x4E49;&#x7684;&#x65B9;&#x5F0F;&#x4F7F;&#x5F97;dict&#x7684;key&#x548C;value&#x80FD;&#x591F;&#x5B58;&#x50A8;&#x4EFB;&#x4F55;&#x7C7B;&#x578B;&#x7684;&#x6570;&#x636E;</li>\n<li><code>*privdata</code>:&#x79C1;&#x6709;&#x6570;&#x636E;,&#x4E0E;<code>*type</code>&#x914D;&#x5408;&#x4ECE;&#x800C;&#x5B9E;&#x73B0;&#x591A;&#x6001;</li>\n<li><code>ht</code>:&#x5B9E;&#x9645;&#x7684;&#x54C8;&#x5E0C;&#x8868;,ht[0]&#x662F;&#x5F53;&#x524D;&#x4F7F;&#x7528;&#x7684;&#x8868;;ht[1]&#x662F;&#x7A7A;&#x8868;,&#x5728;&#x6539;&#x53D8;&#x5BB9;&#x91CF;&#x7684;&#x65F6;&#x5019;&#x624D;&#x4F1A;&#x4F7F;&#x7528;</li>\n<li><code>rehashidx</code>:&#x7528;&#x4E8E;&#x8BB0;&#x5F55;rehash&#x7684;&#x8FDB;&#x5EA6;,&#x4E3A;-1&#x65F6;&#x8868;&#x793A;&#x6CA1;&#x6709;rehash</li>\n<li><code>iterators</code>:&#x6B63;&#x5728;&#x8FED;&#x4EE3;&#x7684;&#x8FED;&#x4EE3;&#x5668;&#x6570;&#x91CF;</li>\n</ul>\n<h3 class="mume-header" id="dictht%E8%AF%B4%E6%98%8E">dictht&#x8BF4;&#x660E;</h3>\n\n<ul>\n<li><code>**table</code>:&#x4E8C;&#x7EF4;&#x6570;&#x7EC4;,&#x5B58;&#x50A8;&#x6570;&#x636E;</li>\n<li><code>size</code>:&#x6570;&#x7EC4;&#x5927;&#x5C0F;</li>\n<li><code>sizemask</code>:&#x54C8;&#x5E0C;&#x8868;&#x7684;&#x5927;&#x5C0F;&#x7684;&#x63A9;&#x7801;,&#x7528;&#x4E8E;&#x8BA1;&#x7B97;&#x7D22;&#x5F15;&#x503C;,&#x603B;&#x662F;&#x7B49;&#x4E8E;size-1</li>\n<li><code>used</code>:&#x54C8;&#x5E0C;&#x8868;&#x4E2D;&#x5143;&#x7D20;&#x7684;&#x4E2A;&#x6570;</li>\n</ul>\n<h3 class="mume-header" id="%E6%89%A9%E5%AE%B9%E4%B8%8E%E7%BC%A9%E5%AE%B9">&#x6269;&#x5BB9;&#x4E0E;&#x7F29;&#x5BB9;</h3>\n\n<ul>\n<li>dict&#x89E3;&#x51B3;&#x54C8;&#x5E0C;&#x51B2;&#x7A81;:&#x94FE;&#x8868;&#x6CD5;</li>\n<li>&#x8D1F;&#x8F7D;&#x56E0;&#x5B50;:&#x54C8;&#x5E0C;&#x8868;&#x4E2D;&#x5DF2;&#x4FDD;&#x5B58;&#x8282;&#x70B9;&#x6570;&#x91CF;/&#x54C8;&#x5E0C;&#x8868;&#x7684;&#x5927;&#x5C0F;\n<ul>\n<li>&#x8BA1;&#x7B97;: <code>ht[0].used / ht[0].size</code></li>\n</ul>\n</li>\n<li>&#x6269;&#x5BB9;&#x89C4;&#x5219;:\n<ul>\n<li>&#x5F53;&#x6CA1;&#x6709;&#x6267;&#x884C;<code>BGSAVE</code>&#x6216;<code>BGREWRITEAOF</code>&#x6307;&#x4EE4;&#x65F6;,&#x8D1F;&#x8F7D;&#x56E0;&#x5B50;&#x5927;&#x4E8E;&#x7B49;&#x4E8E;1&#x65F6;&#x6269;&#x5BB9;</li>\n<li>&#x5F53;&#x6B63;&#x5728;&#x6267;&#x884C;<code>BGSAVE</code>&#x6216;<code>BGREWRITEAOF</code>&#x6307;&#x4EE4;&#x65F6;,&#x8D1F;&#x8F7D;&#x56E0;&#x5B50;&#x5927;&#x4E8E;&#x7B49;&#x4E8E;5&#x65F6;&#x6269;&#x5BB9;</li>\n<li>&#x5F53;&#x8D1F;&#x8F7D;&#x56E0;&#x5B50;&#x5C0F;&#x4E8E;0.1&#x65F6;,&#x8FDB;&#x884C;&#x7F29;&#x5BB9;&#x64CD;&#x4F5C;</li>\n</ul>\n</li>\n<li>&#x6269;&#x5BB9;&#x540E;,&#x54C8;&#x5E0C;&#x8868;&#x4E2D;&#x7684;dictEntry&#x7684;&#x6570;&#x7EC4;&#x6570;&#x91CF;&#x5927;&#x4E8E;&#x7B49;&#x4E8E;&#x7B2C;&#x4E00;&#x4E2A;&#x5927;&#x4E8E;&#x7B49;&#x4E8E;<code>ht[0].used * 2</code>&#x7684;2&#x7684;&#x5E42;\n<ul>\n<li>&#x5728;&#x8FDB;&#x884C;&#x5199;&#x76D8;&#x64CD;&#x4F5C;&#x65F6;,&#x8FDB;&#x884C;&#x6269;&#x5BB9;&#x9700;&#x8981;&#x4E3A;ht[1]&#x5206;&#x914D;&#x5185;&#x5B58;,&#x82E5;&#x6B64;&#x65F6;ht[0]&#x8F83;&#x5927;,&#x5219;&#x4F1A;&#x5360;&#x7528;&#x8F83;&#x591A;&#x7684;&#x5185;&#x5B58;&#x7A7A;&#x95F4;,&#x9020;&#x6210;&#x5185;&#x5B58;&#x9875;&#x8FC7;&#x591A;</li>\n<li>&#x8FD9;&#x4F1A;&#x5BFC;&#x81F4;&#x7CFB;&#x7EDF;&#x8017;&#x8D39;&#x66F4;&#x591A;&#x7684;&#x5F00;&#x9500;&#x53BB;&#x56DE;&#x6536;&#x5185;&#x5B58;</li>\n</ul>\n</li>\n<li>&#x7F29;&#x5BB9;&#x540E;,&#x54C8;&#x5E0C;&#x8868;&#x4E2D;&#x7684;dictEntry&#x7684;&#x6570;&#x7EC4;&#x6570;&#x91CF;&#x5927;&#x4E8E;&#x7B49;&#x4E8E;&#x7B2C;&#x4E00;&#x4E2A;&#x5927;&#x4E8E;&#x7B49;&#x4E8E;<code>ht[0].used</code>&#x7684;2&#x7684;&#x5E42;\n<ul>\n<li>&#x5F53;&#x6EE1;&#x8DB3;&#x7F29;&#x5BB9;&#x6761;&#x4EF6;&#x65F6;,ht[0]&#x7684;&#x5360;&#x7528;&#x5185;&#x5B58;&#x5F88;&#x5C0F;,&#x5373;&#x4F7F;&#x4E3A;ht[1]&#x5206;&#x914D;&#x5185;&#x5B58;&#x4E5F;&#x6D88;&#x8017;&#x4E0D;&#x4E86;&#x592A;&#x591A;&#x8D44;&#x6E90;</li>\n</ul>\n</li>\n</ul>\n<h3 class="mume-header" id="rehash">rehash</h3>\n\n<ul>\n<li>&#x56E0;&#x4E3A;&#x5355;&#x7EBF;&#x7A0B;&#x7684;Redis&#x65E0;&#x6CD5;&#x4F7F;&#x7528;&#x65F6;&#x95F4;&#x590D;&#x6742;&#x5EA6;&#x8F83;&#x9AD8;&#x7684;&#x5168;&#x90E8;rehash&#x64CD;&#x4F5C;,&#x6240;&#x4EE5;&#x91C7;&#x7528;&#x4E86;<code>&#x6E10;&#x8FDB;&#x5F0F;rehash</code>&#x7684;&#x65B9;&#x5F0F;\n<ul>\n<li>&#x82E5;&#x6570;&#x7EC4;&#x5728;ht[0]&#x4E2D;,&#x5219;&#x5728;ht[1]&#x4E2D;&#x5206;&#x914D;&#x7A7A;&#x95F4;,&#x6309;&#x7167;&#x6269;&#x5BB9;/&#x7F29;&#x5BB9;&#x7684;&#x89C4;&#x5219;;</li>\n<li>&#x5C06;dict&#x4E2D;&#x7684;<code>rehashidx</code>&#x8BBE;&#x7F6E;&#x4E3A;0,&#x8868;&#x793A;rehash&#x5F00;&#x59CB;;</li>\n<li>&#x5728;rehash&#x671F;&#x95F4;,&#x5BF9;&#x8BE5;&#x5B57;&#x5178;&#x8FDB;&#x884C;&#x589E;&#x5220;&#x6539;&#x67E5;&#x7684;&#x64CD;&#x4F5C;,&#x7A0B;&#x5E8F;&#x9664;&#x4E86;&#x8FDB;&#x884C;&#x5236;&#x5B9A;&#x64CD;&#x4F5C;&#x5916;,&#x8FD8;&#x4F1A;&#x5C06;&#x5F53;&#x524D;<code>ht[0][rehashidx]</code>&#x94FE;&#x8868;&#x4E0A;&#x7684;&#x6240;&#x6709;&#x5143;&#x7D20;rehash&#x5230;<code>ht[1]</code>&#x4E0A;,&#x5F53;&#x5B8C;&#x6210;&#x4E00;&#x4E2A;&#x94FE;&#x8868;&#x540E;,rehashidx&#x589E;1</li>\n<li>&#x5F53;ht[0]&#x6240;&#x6709;&#x7684;&#x952E;&#x503C;&#x5BF9;&#x90FD;&#x88AB;rehash&#x5230;ht[1]&#x4E0A;&#x65F6;,rehash&#x7ED3;&#x675F;,<code>rehashidx</code>&#x8BBE;&#x4E3A;-1,&#x8868;&#x793A;rehash&#x64CD;&#x4F5C;&#x5B8C;&#x6210;</li>\n</ul>\n</li>\n<li>&#x5728;rehash&#x671F;&#x95F4;,&#x5BF9;&#x5B57;&#x5178;&#x7684;&#x65B0;&#x589E;&#x64CD;&#x4F5C;&#x4F1A;&#x76F4;&#x63A5;&#x589E;&#x52A0;&#x5230;ht[1]&#x4E0A;</li>\n<li>&#x5BF9;&#x5B57;&#x5178;&#x7684;&#x5220;&#x6539;&#x67E5;&#x7684;&#x64CD;&#x4F5C;,&#x4F1A;&#x73B0;&#x5728;ht[0]&#x4E0A;&#x6267;&#x884C;,&#x82E5;&#x6CA1;&#x6709;&#x627E;&#x5230;&#x5143;&#x7D20;&#x5219;&#x4F1A;&#x5728;ht[1]&#x6267;&#x884C;,&#x82E5;&#x4ECD;&#x672A;&#x627E;&#x5230;&#x5219;&#x8BA4;&#x4E3A;&#x8BE5;key&#x4E3A;&#x7A7A;</li>\n<li>&#x7531;&#x4E0A;&#x6587;&#x6240;&#x8BF4;,&#x5F53;Redis&#x5185;&#x5B58;&#x5360;&#x7528;&#x8F83;&#x591A;&#x65F6;,rehash&#x64CD;&#x4F5C;&#x53EF;&#x80FD;&#x4F1A;&#x5BFC;&#x81F4;&#x90E8;&#x5206;key&#x88AB;&#x629B;&#x5F03;</li>\n</ul>\n<h2 class="mume-header" id="set-1">set</h2>\n\n<ul>\n<li>&#x65E0;&#x5E8F;&#x4E14;&#x5B58;&#x50A8;&#x4E0D;&#x91CD;&#x590D;&#x5143;&#x7D20;&#x7684;&#x96C6;&#x5408;,&#x5F53;value&#x6570;&#x636E;&#x91CF;&#x4E0D;&#x5927;&#x4E14;&#x662F;&#x6574;&#x6570;&#x503C;&#x65F6;,&#x91C7;&#x7528;intset;&#x5426;&#x5219;&#x91C7;&#x7528;dict</li>\n</ul>\n<h3 class="mume-header" id="intset">intset</h3>\n\n<ul>\n<li>&#x67E5;&#x627E;&#x5143;&#x7D20;&#x53CA;&#x63D2;&#x5165;&#x5143;&#x7D20;&#x91C7;&#x7528;&#x4E8C;&#x5206;&#x6CD5;&#x4F1A;&#x5148;&#x5224;&#x65AD;&#x8FB9;&#x754C;&#x6761;&#x4EF6;(&#x9996;&#x5143;&#x7D20;&#x6700;&#x5C0F;,&#x5C3E;&#x5143;&#x7D20;&#x6700;&#x5927;)</li>\n<li>&#x7ED3;&#x6784;:</li>\n</ul>\n<pre data-role="codeBlock" data-info="c" class="language-c"><span class="code-mark">c</span><span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">intset</span> <span class="token punctuation">{</span>\n    <span class="token class-name">uint32_t</span> encoding<span class="token punctuation">;</span>\n    <span class="token class-name">uint32_t</span> length<span class="token punctuation">;</span>\n    <span class="token class-name">int8_t</span> contents<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span> intset<span class="token punctuation">;</span>\n</pre><ul>\n<li><code>encoding</code>:&#x7F16;&#x7801;&#x683C;&#x5F0F;,&#x5305;&#x62EC;<code>INTSET_ENC_INT16</code>(16&#x4F4D;,2&#x4E2A;&#x5B57;&#x8282;,&#x9ED8;&#x8BA4;),<code>INTSET_ENC_INT32</code>(32&#x4F4D;,4&#x4E2A;&#x5B57;&#x8282;),<code>INTSET_ENC_INT64</code>(64&#x4F4D;,8&#x4E2A;&#x5B57;&#x8282;)</li>\n<li><code>length</code>:&#x5F53;&#x524D;&#x6570;&#x7EC4;&#x7684;&#x957F;&#x5EA6;,&#x5373;&#x6709;&#x51E0;&#x4E2A;&#x5143;&#x7D20;</li>\n<li><code>contents</code>:&#x5B58;&#x50A8;&#x5143;&#x7D20;&#x7684;&#x6570;&#x7EC4;,&#x4ECE;&#x5C0F;&#x5230;&#x5927;&#x6392;&#x5217;&#x4E14;&#x4E0D;&#x5305;&#x542B;&#x4EFB;&#x4F55;&#x91CD;&#x590D;&#x9879;</li>\n</ul>\n<h4 class="mume-header" id="intset%E6%96%B0%E5%A2%9E%E5%85%83%E7%B4%A0%E6%97%B6%E7%9A%84%E5%8D%87%E7%BA%A7%E8%BF%87%E7%A8%8B">intset&#x65B0;&#x589E;&#x5143;&#x7D20;&#x65F6;&#x7684;&#x5347;&#x7EA7;&#x8FC7;&#x7A0B;</h4>\n\n<ul>\n<li>&#x82E5;&#x65B0;&#x589E;&#x7684;&#x5143;&#x7D20;&#x8D85;&#x51FA;&#x5F53;&#x524D;&#x7F16;&#x7801;&#x683C;&#x5F0F;&#x7684;&#x8303;&#x56F4;,&#x5219;&#x9700;&#x8981;&#x8FDB;&#x884C;&#x96C6;&#x5408;&#x7684;&#x5347;&#x7EA7;&#x64CD;&#x4F5C;</li>\n<li>&#x901A;&#x8FC7;<code>length * encoding&#x7684;&#x4F4D;&#x6570;</code>&#x8BA1;&#x7B97;&#x51FA;&#x5F53;&#x524D;&#x7684;&#x4F4D;&#x8303;&#x56F4;</li>\n<li>&#x901A;&#x8FC7;<code>length * &#x65B0;encoding&#x7684;&#x4F4D;&#x6570;</code>&#x8BA1;&#x7B97;&#x51FA;&#x9700;&#x8981;&#x5212;&#x5206;&#x7684;&#x65B0;&#x7684;&#x5185;&#x5B58;&#x7A7A;&#x95F4;</li>\n<li>&#x901A;&#x8FC7;&#x4E0A;&#x4E00;&#x6B65;&#x4E0E;&#x5355;&#x4E2A;encoding&#x7684;&#x4F4D;&#x6570;,&#x83B7;&#x5F97;&#x65B0;&#x63D2;&#x5165;&#x5143;&#x7D20;&#x6240;&#x9700;&#x7684;&#x4F4D;&#x8303;&#x56F4;,&#x5C06;&#x5143;&#x7D20;&#x63D2;&#x5165;(&#x6700;&#x524D;&#x6216;&#x6700;&#x540E;)</li>\n<li>&#x5C06;&#x65E7;&#x5143;&#x7D20;&#x4ECE;&#x540E;&#x81F3;&#x524D;&#x91CD;&#x65B0;&#x5206;&#x914D;,&#x8FD9;&#x6837;&#x53EF;&#x4EE5;&#x6709;&#x6548;&#x9632;&#x6B62;&#x6570;&#x636E;&#x88AB;&#x8986;&#x76D6;</li>\n</ul>\n<h2 class="mume-header" id="zset">zset</h2>\n\n<ul>\n<li>&#x6839;&#x636E;score&#x8FDB;&#x884C;&#x6392;&#x5E8F;&#x7684;&#x6709;&#x5E8F;&#x7684;set&#x96C6;&#x5408;,&#x7ED3;&#x6784;:</li>\n</ul>\n<pre data-role="codeBlock" data-info="c" class="language-c"><span class="code-mark">c</span><span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">zset</span> <span class="token punctuation">{</span>\n    dict <span class="token operator">*</span>dict<span class="token punctuation">;</span>\n    zskiplist <span class="token operator">*</span>zsl<span class="token punctuation">;</span>\n<span class="token punctuation">}</span> zset<span class="token punctuation">;</span>\n</pre><ul>\n<li>&#x5176;&#x4E2D;,zset&#x4F7F;&#x7528;zskiplist&#x8FDB;&#x884C;score&#x7684;&#x6392;&#x5E8F;,&#x4F7F;&#x7528;dict&#x8FDB;&#x884C;value-&gt;score&#x7684;&#x6620;&#x5C04;&#x4FDD;&#x5B58;</li>\n<li>&#x53D6;value&#x65F6;,&#x76F4;&#x63A5;&#x901A;&#x8FC7;dict&#x5728;O(1)&#x4E0B;&#x83B7;&#x5F97;value-score</li>\n<li>&#x8FDB;&#x884C;&#x589E;&#x5220;&#x6539;&#x53CA;&#x6392;&#x540D;&#x67E5;&#x8BE2;&#x64CD;&#x4F5C;&#x65F6;,&#x4F1A;&#x901A;&#x8FC7;zskiplist&#x8FDB;&#x884C;&#x64CD;&#x4F5C;,&#x4E5F;&#x4F1A;&#x76F8;&#x5BF9;&#x5E94;&#x7684;&#x5728;dict&#x4E2D;&#x8FDB;&#x884C;&#x66F4;&#x65B0;</li>\n<li>&#x56E0;&#x4E3A;&#x4F7F;&#x7528;&#x4E86;&#x8DF3;&#x8868;,&#x6240;&#x4EE5;&#x589E;&#x5220;&#x6539;&#x67E5;&#x7684;&#x65F6;&#x95F4;&#x590D;&#x6742;&#x5EA6;&#x4E3A;O(logN)</li>\n<li>zskiplist&#x7684;&#x7ED3;&#x6784;&#x5982;&#x4E0B;:</li>\n</ul>\n<pre data-role="codeBlock" data-info="c" class="language-c"><span class="code-mark">c</span><span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">zskiplist</span> <span class="token punctuation">{</span>\n    <span class="token keyword">struct</span> <span class="token class-name">zskiplistNode</span> <span class="token operator">*</span>header<span class="token punctuation">,</span> <span class="token operator">*</span>tail<span class="token punctuation">;</span>\n    <span class="token keyword">unsigned</span> <span class="token keyword">long</span> length<span class="token punctuation">;</span>\n    <span class="token keyword">int</span> level<span class="token punctuation">;</span>\n<span class="token punctuation">}</span> zskiplist<span class="token punctuation">;</span>\n</pre><ul>\n<li>&#x5176;&#x4E2D;,zskiplistNode&#x4E3A;&#x8DF3;&#x8868;&#x7684;&#x8282;&#x70B9;,&#x7ED3;&#x6784;&#x5982;&#x4E0B;:</li>\n</ul>\n<pre data-role="codeBlock" data-info="c" class="language-c"><span class="code-mark">c</span><span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">zskiplistNode</span> <span class="token punctuation">{</span>\n    sds ele<span class="token punctuation">;</span>\n    <span class="token keyword">double</span> score<span class="token punctuation">;</span>\n    <span class="token keyword">struct</span> <span class="token class-name">zskiplistNode</span> <span class="token operator">*</span>backward<span class="token punctuation">;</span>\n    <span class="token keyword">struct</span> <span class="token class-name">zskiplistLevel</span> <span class="token punctuation">{</span>\n        <span class="token keyword">struct</span> <span class="token class-name">zskiplistNode</span> <span class="token operator">*</span>forward<span class="token punctuation">;</span>\n        <span class="token keyword">unsigned</span> <span class="token keyword">long</span> span<span class="token punctuation">;</span>\n    <span class="token punctuation">}</span> level<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span> zskiplistNode<span class="token punctuation">;</span>\n</pre><h3 class="mume-header" id="zskiplist">zskiplist</h3>\n\n<ul>\n<li><code>*header</code>:&#x8DF3;&#x8868;&#x5934;&#x6307;&#x9488;</li>\n<li><code>*tail</code>:&#x8DF3;&#x8868;&#x5C3E;&#x6307;&#x9488;</li>\n<li><code>length</code>:&#x8DF3;&#x8868;&#x4E2D;&#x7684;&#x5143;&#x7D20;&#x4E2A;&#x6570;,&#x4E0D;&#x5305;&#x542B;&#x5934;&#x8282;&#x70B9;(&#x5934;&#x8282;&#x70B9;&#x4E0D;&#x662F;&#x5143;&#x7D20;,&#x4EC5;&#x662F;&#x4E00;&#x4E2A;head)</li>\n<li><code>level</code>:&#x5F53;&#x524D;&#x8DF3;&#x8868;&#x4E2D;,&#x6240;&#x6709;&#x8282;&#x70B9;&#x4E2D;&#x5C42;&#x6570;&#x6700;&#x5927;&#x7684;level</li>\n<li>&#x6700;&#x5927;&#x5C42;&#x6570;64&#x5C42;,&#x5355;&#x4E2A;&#x8DF3;&#x8868;&#x6700;&#x591A;&#x53EF;&#x5B58;&#x50A8;2<sup>64</sup>&#x4E2A;&#x5143;&#x7D20;</li>\n<li>&#x8DF3;&#x8868;&#x662F;&#x6309;&#x7167;score&#x5347;&#x5E8F;&#x6392;&#x5217;&#x7684;,&#x4E24;&#x4E2A;score&#x76F8;&#x540C;&#x7684;&#x5143;&#x7D20;,&#x6392;&#x5E8F;&#x6309;&#x7167;ele&#x7684;&#x5B57;&#x5178;&#x5E8F;</li>\n<li>&#x4E00;&#x4E2A;zset&#x4E2D;&#x53EA;&#x6709;&#x4E00;&#x4E2A;zskiplist,&#x901A;&#x8FC7;zskiplistNode&#x7684;&#x67D4;&#x6027;&#x6570;&#x7EC4;&#x6765;&#x6307;&#x5411;&#x5176;&#x4ED6;&#x5C42;&#x7EA7;&#x7684;&#x540E;&#x5E8F;&#x8282;&#x70B9;</li>\n</ul>\n<h3 class="mume-header" id="zskiplistnode">zskiplistNode</h3>\n\n<ul>\n<li><code>ele</code>:&#x5143;&#x7D20;,&#x5B58;&#x50A8;&#x7684;value&#x503C;,sds&#x7C7B;&#x578B;\n<ul>\n<li>&#x5728;ver3.2&#x4E2D;,&#x5B58;&#x50A8;&#x7684;&#x662F;redisObject&#x7C7B;&#x578B;&#x7684;<code>*robj</code></li>\n</ul>\n</li>\n<li><code>score</code>:&#x5143;&#x7D20;&#x7684;&#x5206;&#x6570;</li>\n<li><code>*backward</code>:&#x524D;&#x9A71;&#x6307;&#x9488;,&#x7528;&#x4E8E;&#x5411;&#x524D;&#x904D;&#x5386;</li>\n<li><code>zskiplistLevel</code>:&#x5C42;&#x7EA7;&#x6570;&#x7EC4;,&#x6709;\n<ul>\n<li><code>*forward</code>:&#x540E;&#x9A71;&#x6307;&#x9488;,&#x5411;&#x540E;&#x904D;&#x5386;,&#x540C;&#x5C42;&#x7EA7;</li>\n<li><code>span</code>:&#x5F53;&#x524D;&#x6307;&#x9488;&#x5230;&#x4E0B;&#x4E00;&#x4E2A;&#x6307;&#x9488;&#x7684;&#x8DE8;&#x5EA6;</li>\n<li>&#x6570;&#x7EC4;&#x7684;&#x7D22;&#x5F15;&#x4ECE;0&#x5F00;&#x59CB;,&#x8868;&#x793A;&#x5C42;&#x7EA7;,&#x7EA7;&#x522B;&#x8D8A;&#x5C0F;,&#x8868;&#x5C42;&#x7EA7;&#x8D8A;&#x4F4E;,&#x8868;&#x7684;&#x5143;&#x7D20;&#x8D8A;&#x591A;</li>\n</ul>\n</li>\n</ul>\n<h3 class="mume-header" id="%E5%A2%9E">&#x589E;</h3>\n\n<ul>\n<li>&#x4ECE;head&#x5F00;&#x59CB;&#x964D;&#x5C42;&#x67E5;&#x627E;&#x6700;&#x540E;&#x4E00;&#x4E2A;&#x6BD4;&#x65B0;&#x589E;&#x5143;&#x7D20;&#x5C0F;&#x7684;&#x8282;&#x70B9;</li>\n<li>&#x63D2;&#x5165;&#x5143;&#x7D20;,&#x901A;&#x8FC7;&#x968F;&#x673A;&#x5C42;&#x6570;&#x7B97;&#x6CD5;&#x4E3A;&#x8BE5;&#x8282;&#x70B9;&#x5EFA;&#x7ACB;&#x5C42;&#x6570;</li>\n<li>&#x66F4;&#x65B0;&#x6700;&#x9AD8;&#x5C42;&#x6570;</li>\n</ul>\n<h3 class="mume-header" id="%E5%88%A0">&#x5220;</h3>\n\n<ul>\n<li>&#x67E5;&#x627E;&#x5230;&#x6307;&#x5B9A;&#x5143;&#x7D20;,&#x5220;&#x9664;&#x540E;&#x66F4;&#x65B0;&#x6307;&#x9488;&#x53CA;&#x6700;&#x9AD8;&#x7684;&#x5C42;&#x6570;</li>\n</ul>\n<h3 class="mume-header" id="%E6%94%B9">&#x6539;</h3>\n\n<ul>\n<li>&#x5148;&#x67E5;&#x627E;&#x5143;&#x7D20;,&#x5982;&#x679C;&#x4E0D;&#x5B58;&#x5728;&#x5219;&#x65B0;&#x589E;;</li>\n<li>&#x5982;&#x679C;&#x5B58;&#x5728;,&#x5219;&#x5148;&#x5220;&#x9664;&#x540E;&#x63D2;&#x5165;</li>\n</ul>\n<h3 class="mume-header" id="%E6%9F%A5">&#x67E5;</h3>\n\n<ul>\n<li>&#x901A;&#x8FC7;&#x8DF3;&#x8868;&#x67E5;&#x8BE2;&#x6307;&#x5B9A;value&#x53CA;score,&#x83B7;&#x5F97;&#x6392;&#x540D;,&#x5982;&#x679C;&#x67E5;&#x4E0D;&#x5230;&#x8FD4;&#x56DE;null</li>\n</ul>\n<h2 class="mume-header" id="%E5%85%B6%E4%BB%96">&#x5176;&#x4ED6;</h2>\n\n<h3 class="mume-header" id="%E5%AD%98%E5%82%A8%E5%80%BC%E4%B8%AD%E6%96%87%E4%B9%B1%E7%A0%81">&#x5B58;&#x50A8;&#x503C;&#x4E2D;&#x6587;&#x4E71;&#x7801;</h3>\n\n<ul>\n<li><code>&gt;redis-cli --raw</code></li>\n</ul>\n\n      </div>\n      <div class="md-sidebar-toc"><ul>\n<li><a href="#redis">Redis</a>\n<ul>\n<li><a href="#%E6%8C%87%E4%BB%A4">&#x6307;&#x4EE4;</a>\n<ul>\n<li><a href="#%E5%90%AF%E5%8A%A8">&#x542F;&#x52A8;</a></li>\n<li><a href="#key">Key</a>\n<ul>\n<li><a href="#%E9%81%8D%E5%8E%86%E8%BF%AD%E4%BB%A3">&#x904D;&#x5386;&#x8FED;&#x4EE3;</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li><a href="#%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B">&#x6570;&#x636E;&#x7C7B;&#x578B;</a>\n<ul>\n<li><a href="#string">String</a>\n<ul>\n<li><a href="#getrange">GETRANGE</a></li>\n<li><a href="#setrange">SETRANGE</a></li>\n<li><a href="#getset">GETSET</a></li>\n<li><a href="#getbit">GETBIT</a></li>\n<li><a href="#setbit">SETBIT</a></li>\n<li><a href="#bitcount">BITCOUNT</a></li>\n<li><a href="#bitop">BITOP</a></li>\n<li><a href="#setex">SETEX</a></li>\n<li><a href="#setnx">SETNX</a></li>\n<li><a href="#strlen">STRLEN</a></li>\n<li><a href="#incr">INCR</a></li>\n<li><a href="#incrby">INCRBY</a></li>\n<li><a href="#incrbyfloat">INCRBYFLOAT</a></li>\n<li><a href="#decr">DECR</a></li>\n<li><a href="#decrby">DECRBY</a></li>\n<li><a href="#append">APPEND</a></li>\n</ul>\n</li>\n<li><a href="#hash">Hash</a>\n<ul>\n<li><a href="#hset">HSET</a></li>\n<li><a href="#hmset">HMSET</a></li>\n<li><a href="#hsetnx">HSETNX</a></li>\n<li><a href="#hget">HGET</a></li>\n<li><a href="#hmget">HMGET</a></li>\n<li><a href="#hgetall">HGETALL</a></li>\n<li><a href="#hexists">HEXISTS</a></li>\n<li><a href="#hdel">HDEL</a></li>\n<li><a href="#hlen">HLEN</a></li>\n<li><a href="#hvals">HVALS</a></li>\n<li><a href="#hkeys">HKEYS</a></li>\n</ul>\n</li>\n<li><a href="#list">List</a>\n<ul>\n<li><a href="#lpush">LPUSH</a></li>\n<li><a href="#lpushx">LPUSHX</a></li>\n<li><a href="#rpush">RPUSH</a></li>\n<li><a href="#rpushx">RPUSHX</a></li>\n<li><a href="#lset">LSET</a></li>\n<li><a href="#linsert">LINSERT</a></li>\n<li><a href="#lpop">LPOP</a></li>\n<li><a href="#rpop">RPOP</a></li>\n<li><a href="#rpoplpush">RPOPLPUSH</a></li>\n<li><a href="#lrem">LREM</a></li>\n<li><a href="#ltrim">LTRIM</a></li>\n<li><a href="#lindex">LINDEX</a></li>\n<li><a href="#lrange">LRANGE</a></li>\n<li><a href="#llen">LLEN</a></li>\n<li><a href="#blpop">BLPOP</a></li>\n<li><a href="#brpop">BRPOP</a></li>\n<li><a href="#brpoplpush">BRPOPLPUSH</a></li>\n</ul>\n</li>\n<li><a href="#set">Set</a>\n<ul>\n<li><a href="#sadd">SADD</a></li>\n<li><a href="#spop">SPOP</a></li>\n<li><a href="#srem">SREM</a></li>\n<li><a href="#sismember">SISMEMBER</a></li>\n<li><a href="#smove">SMOVE</a></li>\n<li><a href="#scard">SCARD</a></li>\n<li><a href="#sdiff">SDIFF</a></li>\n<li><a href="#sdiffstore">SDIFFSTORE</a></li>\n<li><a href="#sinter">SINTER</a></li>\n<li><a href="#sinterstore">SINTERSTORE</a></li>\n<li><a href="#sunion">SUNION</a></li>\n<li><a href="#sunionstore">SUNIONSTORE</a></li>\n<li><a href="#smembers">SMEMBERS</a></li>\n<li><a href="#srandmember">SRANDMEMBER</a></li>\n</ul>\n</li>\n<li><a href="#sorted-set">Sorted Set</a>\n<ul>\n<li><a href="#zadd">ZADD</a></li>\n<li><a href="#zrem">ZREM</a></li>\n<li><a href="#zremrangebyrank">ZREMRANGEBYRANK</a></li>\n<li><a href="#zremrangebyscore">ZREMRANGEBYSCORE</a></li>\n<li><a href="#zincrby">ZINCRBY</a></li>\n<li><a href="#zcard">ZCARD</a></li>\n<li><a href="#zcount">ZCOUNT</a></li>\n<li><a href="#zrange">ZRANGE</a></li>\n<li><a href="#zrevrange">ZREVRANGE</a></li>\n<li><a href="#zrank">ZRANK</a></li>\n<li><a href="#zrevrank">ZREVRANK</a></li>\n<li><a href="#zscore">ZSCORE</a></li>\n<li><a href="#zrangebyscore">ZRANGEBYSCORE</a></li>\n<li><a href="#zrangebylex">ZRANGEBYLEX</a></li>\n<li><a href="#zunionstore">ZUNIONSTORE</a></li>\n<li><a href="#zinterstore">ZINTERSTORE</a></li>\n</ul>\n</li>\n<li><a href="#hyperloglog">HyperLogLog</a>\n<ul>\n<li><a href="#pfadd">PFADD</a></li>\n<li><a href="#pfcount">PFCOUNT</a></li>\n<li><a href="#pfmerge">PFMERGE</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li><a href="#%E8%AE%A2%E9%98%85">&#x8BA2;&#x9605;</a>\n<ul>\n<li><a href="#subscribe">SUBSCRIBE</a></li>\n<li><a href="#unsubcribe">UNSUBCRIBE</a></li>\n<li><a href="#psubscribe">PSUBSCRIBE</a></li>\n<li><a href="#punsubscribe">PUNSUBSCRIBE</a></li>\n<li><a href="#publish">PUBLISH</a></li>\n<li><a href="#pubsub">PUBSUB</a></li>\n</ul>\n</li>\n<li><a href="#%E4%BA%8B%E5%8A%A1">&#x4E8B;&#x52A1;</a>\n<ul>\n<li><a href="#%E4%BA%8B%E5%8A%A1%E4%B8%AD%E7%9A%84%E5%91%BD%E4%BB%A4">&#x4E8B;&#x52A1;&#x4E2D;&#x7684;&#x547D;&#x4EE4;</a></li>\n</ul>\n</li>\n<li><a href="#%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%91%BD%E4%BB%A4">&#x670D;&#x52A1;&#x5668;&#x547D;&#x4EE4;</a>\n<ul>\n<li><a href="#bgsave">BGSAVE</a></li>\n<li><a href="#bgrewriteaof">BGREWRITEAOF</a></li>\n</ul>\n</li>\n<li><a href="#%E7%BB%93%E6%9E%84%E5%AD%98%E5%82%A8">&#x7ED3;&#x6784;&#x5B58;&#x50A8;</a>\n<ul>\n<li><a href="#type">type</a></li>\n<li><a href="#encoding">encoding</a></li>\n<li><a href="#ptr">ptr</a></li>\n<li><a href="#lru">lru</a></li>\n<li><a href="#refcount">refcount</a></li>\n</ul>\n</li>\n<li><a href="#string-1">string</a>\n<ul>\n<li><a href="#int">int</a></li>\n<li><a href="#embstr">embstr</a></li>\n<li><a href="#raw">raw</a></li>\n<li><a href="#sds">SDS</a>\n<ul>\n<li><a href="#len">len</a></li>\n<li><a href="#alloc">alloc</a></li>\n<li><a href="#flags">flags</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li><a href="#list-1">list</a>\n<ul>\n<li><a href="#linkedlist">linkedList</a></li>\n<li><a href="#ziplist">ziplist</a>\n<ul>\n<li><a href="#ziplist%E4%B8%8Elinkedlist%E7%9A%84%E6%AF%94%E8%BE%83">ziplist&#x4E0E;linkedList&#x7684;&#x6BD4;&#x8F83;</a></li>\n<li><a href="#ziplist%E7%9A%84%E8%BF%9E%E9%94%81%E6%9B%B4%E6%96%B0">ziplist&#x7684;&#x8FDE;&#x9501;&#x66F4;&#x65B0;</a></li>\n</ul>\n</li>\n<li><a href="#quicklist">quickList</a>\n<ul>\n<li><a href="#quicklist%E7%BB%93%E6%9E%84">quicklist&#x7ED3;&#x6784;</a></li>\n<li><a href="#quicklistnode%E7%BB%93%E6%9E%84">quicklistNode&#x7ED3;&#x6784;</a></li>\n<li><a href="#quicklistlzf%E7%BB%93%E6%9E%84">quicklistLZF&#x7ED3;&#x6784;</a></li>\n<li><a href="#ziplistentry%E7%BB%93%E6%9E%84">ziplistEntry&#x7ED3;&#x6784;</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li><a href="#hash-1">hash</a>\n<ul>\n<li><a href="#dict%E8%AF%B4%E6%98%8E">dict&#x8BF4;&#x660E;</a></li>\n<li><a href="#dictht%E8%AF%B4%E6%98%8E">dictht&#x8BF4;&#x660E;</a></li>\n<li><a href="#%E6%89%A9%E5%AE%B9%E4%B8%8E%E7%BC%A9%E5%AE%B9">&#x6269;&#x5BB9;&#x4E0E;&#x7F29;&#x5BB9;</a></li>\n<li><a href="#rehash">rehash</a></li>\n</ul>\n</li>\n<li><a href="#set-1">set</a>\n<ul>\n<li><a href="#intset">intset</a>\n<ul>\n<li><a href="#intset%E6%96%B0%E5%A2%9E%E5%85%83%E7%B4%A0%E6%97%B6%E7%9A%84%E5%8D%87%E7%BA%A7%E8%BF%87%E7%A8%8B">intset&#x65B0;&#x589E;&#x5143;&#x7D20;&#x65F6;&#x7684;&#x5347;&#x7EA7;&#x8FC7;&#x7A0B;</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li><a href="#zset">zset</a>\n<ul>\n<li><a href="#zskiplist">zskiplist</a></li>\n<li><a href="#zskiplistnode">zskiplistNode</a></li>\n<li><a href="#%E5%A2%9E">&#x589E;</a></li>\n<li><a href="#%E5%88%A0">&#x5220;</a></li>\n<li><a href="#%E6%94%B9">&#x6539;</a></li>\n<li><a href="#%E6%9F%A5">&#x67E5;</a></li>\n</ul>\n</li>\n<li><a href="#%E5%85%B6%E4%BB%96">&#x5176;&#x4ED6;</a>\n<ul>\n<li><a href="#%E5%AD%98%E5%82%A8%E5%80%BC%E4%B8%AD%E6%96%87%E4%B9%B1%E7%A0%81">&#x5B58;&#x50A8;&#x503C;&#x4E2D;&#x6587;&#x4E71;&#x7801;</a></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</div>\n      <a id="sidebar-toc-btn">&#x2261;</a>\n',l="title: Redis基础\nauthor: voidblank\ntags: [redis, 算法, 数据结构]\nmath: true\nmermaid: true\nhtml:\n  embed_local_images: false\n  embed_svg: true\n  offline: false\n  toc: true\nprint_background: false\nexport_on_save:\n  html: true\n"}});
//# sourceMappingURL=9.1511e8e2075fdf567716.js.map